# establish database and a primary user
create database raw_db_fivetran;
create user raw_src_usr with encrypted password 'raw_src_usr123';
alter user raw_src_usr with password 'raw_src_usr123';
grant all privileges on database raw_db_fivetran to raw_src_usr;
\connect raw_db_fivetran
alter schema public owner to raw_src_usr;

# create schemas
create schema APPLE_STORE_TASTYLIVE;
create schema BRIGHTCOVE;
create schema DBT_AWELCH__ADWORDS_STAGING;
create schema DBT_AWELCH__HUBSPOT_STAGING;
create schema FACEBOOK_ADS;
create schema FACEBOOK_AD_ACCOUNT;
create schema FIVETRAN_ILLUSTRATE_THINE_STAGING;
create schema GOOGLE_ADWORDS_FIVETRAN;
create schema GOOGLE_ANALYTICS;
create schema GOOGLE_ANALYTICS_DFX;
create schema GOOGLE_ANALYTICS_IG;
create schema GOOGLE_DISPLAY_AND_VIDEO_360;
create schema GOOGLE_PLAY_TASTYLIVE;
create schema GOOGLE_PLAY_TASTYWORKS;
create schema GOOGLE_SEARCH_CONSOLE;
create schema GOOGLE_SHEETS;
create schema HUBSPOT;
create schema MAILCHIMP_TW;
create schema MAILCHIMP_TWA;
create schema PUBLIC;
create schema SALESFORCE;
create schema STAGING_BRIGHTCOVE;
create schema STAGING__ADWORDS_STAGING;
create schema STAGING__FACEBOOK_ADS_STAGING;
create schema STAGING__HUBSPOT_STAGING;
create schema STAGING__MAILCHIMP_STAGING;
create schema TT_GOOGLE_ANALYTICS;
create schema TWITTER_ADS_TT;
create schema TWITTER_ADS_TW;
create schema TWITTER_TT;
create schema TWITTER_TW;
create schema YOUTUBE;
create schema YOUTUBE_ANALYTICS_DFX;

# mailchimp schema
create table STG_MAILCHIMP__AUTOMATIONS ( AUTOMATION_ID VARCHAR(256), LIST_ID VARCHAR(256), SEGMENT_ID VARCHAR(256), SEGMENT_TEXT VARCHAR(256), STARTED_TIMESTAMP timestamp with time zone, CREATED_TIMESTAMP timestamp with time zone, STATUS VARCHAR(256), TITLE VARCHAR(256) );
create table STG_MAILCHIMP__AUTOMATIONS_TMP ( ID VARCHAR(256), CREATE_TIME timestamp with time zone, START_TIME timestamp with time zone, STATUS VARCHAR(256), LIST_ID VARCHAR(256), SEGMENT_TEXT VARCHAR(256), SEGMENT_ID VARCHAR(256), TITLE VARCHAR(256), _FIVETRAN_DELETED BOOLEAN, _FIVETRAN_SYNCED timestamp with time zone );
create table STG_MAILCHIMP__AUTOMATION_ACTIVITIES ( ACTION_TYPE VARCHAR(256), AUTOMATION_EMAIL_ID VARCHAR(256), MEMBER_ID VARCHAR(256), LIST_ID VARCHAR(256), ACTIVITY_TIMESTAMP timestamp with time zone, IP_ADDRESS VARCHAR(256), URL VARCHAR(256), BOUNCE_TYPE VARCHAR(256), ACTIVITY_ID VARCHAR(32) );
create table STG_MAILCHIMP__AUTOMATION_ACTIVITIES_TMP ( ACTION VARCHAR(256), AUTOMATION_EMAIL_ID VARCHAR(256), MEMBER_ID VARCHAR(256), TIMESTAMP timestamp with time zone, IP VARCHAR(256), URL VARCHAR(256), LIST_ID VARCHAR(256), BOUNCE_TYPE VARCHAR(256), _FIVETRAN_SYNCED timestamp with time zone );
create table STG_MAILCHIMP__AUTOMATION_EMAILS ( AUTOMATION_EMAIL_ID VARCHAR(256), AUTOMATION_ID VARCHAR(256), CREATED_TIMESTAMP timestamp with time zone, STARTED_TIMESTAMP timestamp with time zone, SEND_TIMESTAMP timestamp with time zone, FROM_NAME VARCHAR(256), REPLY_TO VARCHAR(256), STATUS VARCHAR(256), SUBJECT_LINE VARCHAR(256), TITLE VARCHAR(256), TO_NAME VARCHAR(256), ARCHIVE_URL VARCHAR(256), AUTHENTICATE BOOLEAN, AUTO_FOOTER BOOLEAN, AUTO_TWEET BOOLEAN, CLICKTALE VARCHAR(256), CONTENT_TYPE VARCHAR(256), DELAY_ACTION VARCHAR(256), DELAY_ACTION_DESCRIPTION VARCHAR(256), DELAY_AMOUNT decimal(38,0), DELAY_DIRECTION VARCHAR(256), DELAY_FULL_DESCRIPTION VARCHAR(256), DELAY_TYPE VARCHAR(256), DRAG_AND_DROP BOOLEAN, FB_COMMENTS BOOLEAN, FOLDER_ID VARCHAR(256), GOOGLE_ANALYTICS VARCHAR(256), INLINE_CSS BOOLEAN, POSITION decimal(38,0), TEMPLATE_ID decimal(38,0), TIMEWARP BOOLEAN, TRACK_ECOMM_360 BOOLEAN, TRACK_GOALS BOOLEAN, TRACK_HTML_CLICKS BOOLEAN, TRACK_OPENS BOOLEAN, TRACK_TEXT_CLICKS BOOLEAN, USE_CONVERSATION BOOLEAN );
create table STG_MAILCHIMP__AUTOMATION_EMAILS_TMP ( ID VARCHAR(256), POSITION decimal(38,0), DELAY_AMOUNT decimal(38,0), DELAY_TYPE VARCHAR(256), DELAY_DIRECTION VARCHAR(256), DELAY_ACTION VARCHAR(256), DELAY_ACTION_DESCRIPTION VARCHAR(256), DELAY_FULL_DESCRIPTION VARCHAR(256), CREATE_TIME timestamp with time zone, START_TIME timestamp with time zone, ARCHIVE_URL VARCHAR(256), STATUS VARCHAR(256), CONTENT_TYPE VARCHAR(256), SEND_TIME timestamp with time zone, TITLE VARCHAR(256), TO_NAME VARCHAR(256), AUTHENTICATE BOOLEAN, TIMEWARP BOOLEAN, SUBJECT_LINE VARCHAR(256), FROM_NAME VARCHAR(256), REPLY_TO VARCHAR(256), USE_CONVERSATION BOOLEAN, FOLDER_ID VARCHAR(256), AUTO_FOOTER BOOLEAN, INLINE_CSS BOOLEAN, AUTO_TWEET BOOLEAN, FB_COMMENTS BOOLEAN, TEMPLATE_ID decimal(38,0), DRAG_AND_DROP BOOLEAN, CLICKTALE VARCHAR(256), TRACK_HTML_CLICKS BOOLEAN, TRACK_TEXT_CLICKS BOOLEAN, TRACK_GOALS BOOLEAN, TRACK_OPENS BOOLEAN, TRACK_ECOMM_360 BOOLEAN, GOOGLE_ANALYTICS VARCHAR(256), _FIVETRAN_DELETED BOOLEAN, AUTOMATION_ID VARCHAR(256), _FIVETRAN_SYNCED timestamp with time zone );
create table STG_MAILCHIMP__AUTOMATION_RECIPIENTS ( MEMBER_ID VARCHAR(256), AUTOMATION_EMAIL_ID VARCHAR(256), LIST_ID VARCHAR(256), AUTOMATION_RECIPIENT_ID VARCHAR(32) );
create table STG_MAILCHIMP__AUTOMATION_RECIPIENTS_TMP ( AUTOMATION_EMAIL_ID VARCHAR(256), MEMBER_ID VARCHAR(256), LIST_ID VARCHAR(256), STATUS VARCHAR(256), _FIVETRAN_SYNCED timestamp with time zone );
create table STG_MAILCHIMP__CAMPAIGNS ( CAMPAIGN_ID VARCHAR(256), SEGMENT_ID VARCHAR(256), CREATE_TIMESTAMP timestamp with time zone, SEND_TIMESTAMP timestamp with time zone, LIST_ID VARCHAR(256), REPLY_TO_EMAIL VARCHAR(256), CAMPAIGN_TYPE VARCHAR(256), TITLE VARCHAR(256), ARCHIVE_URL VARCHAR(256), AUTHENTICATE BOOLEAN, AUTO_FOOTER BOOLEAN, AUTO_TWEET BOOLEAN, CLICKTALE VARCHAR(256), CONTENT_TYPE VARCHAR(256), DRAG_AND_DROP BOOLEAN, FB_COMMENTS BOOLEAN, FOLDER_ID VARCHAR(256), FROM_NAME VARCHAR(256), GOOGLE_ANALYTICS VARCHAR(256), INLINE_CSS BOOLEAN, LONG_ARCHIVE_URL VARCHAR(256), STATUS VARCHAR(256), SUBJECT_LINE VARCHAR(256), TEMPLATE_ID decimal(38,0), TEST_SIZE decimal(38,0), TIMEWARP BOOLEAN, TO_NAME VARCHAR(256), TRACK_ECOMM_360 BOOLEAN, TRACK_GOALS BOOLEAN, TRACK_HTML_CLICKS BOOLEAN, TRACK_OPENS BOOLEAN, TRACK_TEXT_CLICKS BOOLEAN, USE_CONVERSATION BOOLEAN, WAIT_TIME decimal(38,0), WINNER_CRITERIA VARCHAR(256), WINNING_CAMPAIGN_ID VARCHAR(256), WINNING_COMBINATION_ID VARCHAR(256) );
create table STG_MAILCHIMP__CAMPAIGNS_TMP ( ID VARCHAR(256), TYPE VARCHAR(256), CREATE_TIME timestamp with time zone, ARCHIVE_URL VARCHAR(256), LONG_ARCHIVE_URL VARCHAR(256), STATUS VARCHAR(256), SEND_TIME timestamp with time zone, CONTENT_TYPE VARCHAR(256), LIST_ID VARCHAR(256), SEGMENT_TEXT VARCHAR(1024), SEGMENT_ID VARCHAR(256), TITLE VARCHAR(256), TO_NAME VARCHAR(256), AUTHENTICATE BOOLEAN, TIMEWARP BOOLEAN, SUBJECT_LINE VARCHAR(256), FROM_NAME VARCHAR(256), REPLY_TO VARCHAR(256), USE_CONVERSATION BOOLEAN, FOLDER_ID VARCHAR(256), AUTO_FOOTER BOOLEAN, INLINE_CSS BOOLEAN, AUTO_TWEET BOOLEAN, FB_COMMENTS BOOLEAN, TEMPLATE_ID decimal(38,0), DRAG_AND_DROP BOOLEAN, CLICKTALE VARCHAR(256), TRACK_HTML_CLICKS BOOLEAN, TRACK_TEXT_CLICKS BOOLEAN, TRACK_GOALS BOOLEAN, TRACK_OPENS BOOLEAN, TRACK_ECOMM_360 BOOLEAN, GOOGLE_ANALYTICS VARCHAR(256), _FIVETRAN_DELETED BOOLEAN, WINNING_COMBINATION_ID VARCHAR(256), WINNING_CAMPAIGN_ID VARCHAR(256), WINNER_CRITERIA VARCHAR(256), WAIT_TIME decimal(38,0), TEST_SIZE decimal(38,0), _FIVETRAN_SYNCED timestamp with time zone );
create table STG_MAILCHIMP__CAMPAIGN_ACTIVITIES ( ACTION_TYPE VARCHAR(256), CAMPAIGN_ID VARCHAR(256), MEMBER_ID VARCHAR(256), LIST_ID VARCHAR(256), ACTIVITY_TIMESTAMP timestamp with time zone, IP_ADDRESS VARCHAR(256), URL VARCHAR(512), BOUNCE_TYPE VARCHAR(256), COMBINATION_ID VARCHAR(256), ACTIVITY_ID VARCHAR(32), EMAIL_ID VARCHAR(32) );
create table STG_MAILCHIMP__CAMPAIGN_ACTIVITIES_TMP ( ACTION VARCHAR(256), CAMPAIGN_ID VARCHAR(256), MEMBER_ID VARCHAR(256), TIMESTAMP timestamp with time zone, IP VARCHAR(256), URL VARCHAR(512), LIST_ID VARCHAR(256), COMBINATION_ID VARCHAR(256), BOUNCE_TYPE VARCHAR(256), _FIVETRAN_SYNCED timestamp with time zone );
create table STG_MAILCHIMP__CAMPAIGN_RECIPIENTS ( CAMPAIGN_ID VARCHAR(256), MEMBER_ID VARCHAR(256), COMBINATION_ID VARCHAR(256), LIST_ID VARCHAR(256), EMAIL_ID VARCHAR(32) );
create table STG_MAILCHIMP__CAMPAIGN_RECIPIENTS_TMP ( CAMPAIGN_ID VARCHAR(256), MEMBER_ID VARCHAR(256), LIST_ID VARCHAR(256), STATUS VARCHAR(256), COMBINATION_ID VARCHAR(256), _FIVETRAN_SYNCED timestamp with time zone );
create table STG_MAILCHIMP__LISTS ( LIST_ID VARCHAR(256), DATE_CREATED timestamp with time zone, NAME VARCHAR(256), LIST_RATING FLOAT, BEAMER_ADDRESS VARCHAR(256), CONTACT_ADDRESS_1 VARCHAR(256), CONTACT_ADDRESS_2 VARCHAR(256), CONTACT_CITY VARCHAR(256), CONTACT_COMPANY VARCHAR(256), CONTACT_COUNTRY VARCHAR(256), CONTACT_STATE VARCHAR(256), CONTACT_ZIP VARCHAR(256), DEFAULT_FROM_EMAIL VARCHAR(256), DEFAULT_FROM_NAME VARCHAR(256), DEFAULT_LANGUAGE VARCHAR(256), DEFAULT_SUBJECT VARCHAR(256), EMAIL_TYPE_OPTION BOOLEAN, NOTIFY_ON_SUBSCRIBE VARCHAR(256), NOTIFY_ON_UNSUBSCRIBE VARCHAR(256), PERMISSION_REMINDER VARCHAR(256), SUBSCRIBE_URL_LONG VARCHAR(256), SUBSCRIBE_URL_SHORT VARCHAR(256), USE_ARCHIVE_BAR BOOLEAN, VISIBILITY VARCHAR(256) );
create table STG_MAILCHIMP__LISTS_TMP ( ID VARCHAR(256), NAME VARCHAR(256), CONTACT_COMPANY VARCHAR(256), CONTACT_ADDRESS_1 VARCHAR(256), CONTACT_ADDRESS_2 VARCHAR(256), CONTACT_CITY VARCHAR(256), CONTACT_STATE VARCHAR(256), CONTACT_ZIP VARCHAR(256), CONTACT_COUNTRY VARCHAR(256), VISIBILITY VARCHAR(256), _FIVETRAN_DELETED BOOLEAN, PERMISSION_REMINDER VARCHAR(256), USE_ARCHIVE_BAR BOOLEAN, DEFAULT_SUBJECT VARCHAR(256), DEFAULT_LANGUAGE VARCHAR(256), DEFAULT_FROM_NAME VARCHAR(256), DEFAULT_FROM_EMAIL VARCHAR(256), NOTIFY_ON_SUBSCRIBE VARCHAR(256), NOTIFY_ON_UNSUBSCRIBE VARCHAR(256), DATE_CREATED timestamp with time zone, LIST_RATING FLOAT, EMAIL_TYPE_OPTION BOOLEAN, SUBSCRIBE_URL_SHORT VARCHAR(256), SUBSCRIBE_URL_LONG VARCHAR(256), BEAMER_ADDRESS VARCHAR(256), _FIVETRAN_SYNCED timestamp with time zone );
create table STG_MAILCHIMP__MEMBERS ( MEMBER_ID VARCHAR(256), EMAIL_ADDRESS VARCHAR(256), EMAIL_CLIENT VARCHAR(256), EMAIL_TYPE VARCHAR(256), STATUS VARCHAR(256), LIST_ID VARCHAR(256), SIGNUP_TIMESTAMP timestamp with time zone, OPT_IN_TIMESTAMP timestamp with time zone, LAST_CHANGED_TIMESTAMP timestamp with time zone, COUNTRY_CODE VARCHAR(256), DSTOFF FLOAT, GMTOFF FLOAT, OPT_IN_IP_ADDRESS VARCHAR(256), SIGNUP_IP_ADDRESS VARCHAR(256), LANGUAGE VARCHAR(256), LATITUDE FLOAT, LONGITUDE FLOAT, MEMBER_RATING decimal(38,0), TIMEZONE VARCHAR(256), UNIQUE_EMAIL_ID VARCHAR(256), VIP BOOLEAN );
create table STG_MAILCHIMP__MEMBERS_TMP ( ID VARCHAR(256), LIST_ID VARCHAR(256), STATUS VARCHAR(256), LANGUAGE VARCHAR(256), VIP BOOLEAN, LATITUDE FLOAT, LONGITUDE FLOAT, GMTOFF FLOAT, DSTOFF FLOAT, COUNTRY_CODE VARCHAR(256), TIMEZONE VARCHAR(256), SOURCE VARCHAR(256), EMAIL_ADDRESS VARCHAR(256), UNIQUE_EMAIL_ID VARCHAR(256), EMAIL_TYPE VARCHAR(256), IP_SIGNUP VARCHAR(256), TIMESTAMP_SIGNUP timestamp with time zone, IP_OPT VARCHAR(256), TIMESTAMP_OPT timestamp with time zone, MEMBER_RATING decimal(38,0), LAST_CHANGED timestamp with time zone, EMAIL_CLIENT VARCHAR(256), UNSUBSCRIBE_REASON VARCHAR(256), MERGE_LNAME VARCHAR(256), MERGE_FNAME VARCHAR(256), MERGE_PHONE decimal(38,0), _FIVETRAN_SYNCED timestamp with time zone, MERGE_MMERGE_15 VARCHAR(256), MERGE_STATE VARCHAR(256), MERGE_MMERGE_11 VARCHAR(256), MERGE_COUNTRY VARCHAR(256), MERGE_REFEREXTID VARCHAR(256), MERGE_OPENDATE DATE, MERGE_POSTCODE VARCHAR(256), MERGE_CITY VARCHAR(256), MERGE_MMERGE_5 DATE, MERGE_EXTERNALID VARCHAR(256), MERGE_AWARDUSYM VARCHAR(256), WEB_ID decimal(38,0) );
create table STG_MAILCHIMP__SEGMENTS ( SEGMENT_ID VARCHAR(256), LIST_ID VARCHAR(256), MEMBER_COUNT decimal(38,0), SEGMENT_NAME VARCHAR(256), SEGMENT_TYPE VARCHAR(256), UPDATED_TIMESTAMP timestamp with time zone, CREATED_TIMESTAMP timestamp with time zone );
create table STG_MAILCHIMP__SEGMENTS_TMP ( ID VARCHAR(256), NAME VARCHAR(256), TYPE VARCHAR(256), _FIVETRAN_DELETED BOOLEAN, MEMBER_COUNT decimal(38,0), CREATED_AT timestamp with time zone, UPDATED_AT timestamp with time zone, LIST_ID VARCHAR(256), _FIVETRAN_SYNCED timestamp with time zone );
create table STG_MAILCHIMP__SEGMENT_MEMBERS ( SEGMENT_ID VARCHAR(256), MEMBER_ID VARCHAR(256), LIST_ID VARCHAR(256) );
create table STG_MAILCHIMP__SEGMENT_MEMBERS_TMP ( MEMBER_ID VARCHAR(256), SEGMENT_ID VARCHAR(256), LIST_ID VARCHAR(256), _FIVETRAN_DELETED BOOLEAN, _FIVETRAN_SYNCED timestamp with time zone );
create table STG_MAILCHIMP__UNSUBSCRIBES ( CAMPAIGN_ID VARCHAR(256), MEMBER_ID VARCHAR(256), LIST_ID VARCHAR(256), UNSUBSCRIBE_REASON VARCHAR(256), UNSUBSCRIBE_TIMESTAMP timestamp with time zone, UNSUBSCRIBE_ID VARCHAR(32) );
create table STG_MAILCHIMP__UNSUBSCRIBES_TMP ( MEMBER_ID VARCHAR(256), CAMPAIGN_ID VARCHAR(256), LIST_ID VARCHAR(256), TIMESTAMP timestamp with time zone, REASON VARCHAR(256), _FIVETRAN_SYNCED timestamp with time zone );

# external
create schema external_sources;
create table ACAT_ACTIVITY_REPORT ( TW_ACCOUNT_ID VARCHAR, ACAT_CONTROL_ID decimal(38,0), DIRECTION VARCHAR, CONTRA_PARTY VARCHAR, TRANSFER_TYPE VARCHAR, STATUS VARCHAR, CURRENT_STATE VARCHAR, LAST_UPDATED_AT timestamp with time zone, CYCLE decimal(38,0), FOLDER_ID decimal(38,0), JOB_RUN_AT timestamp with time zone );
create table ACAT_HOLDINGS ( ACAT_HOLDING_ID VARCHAR, ACAT_REQUEST_ID decimal(38,0), DESCRIPTION VARCHAR, SYMBOL VARCHAR, ELIGIBILITY VARCHAR, EXTERNAL_TYPE VARCHAR, ASSET_TYPE VARCHAR, AMOUNT FLOAT, CLOSE_PRICE FLOAT, TRANSFER_AMOUNT FLOAT, ISO_CURRENCY_CODE VARCHAR, ROOT_SYMBOL VARCHAR, EXPIRATION_DATE timestamp with time zone, OPTION_TYPE VARCHAR, STRIKE_PRICE FLOAT, CREATED_AT timestamp with time zone, UPDATED_AT timestamp with time zone, INSERTED_CST_AT timestamp with time zone );
create table ACAT_REQUESTS ( TW_ACCOUNT_ID VARCHAR, TW_CUSTOMER_ID VARCHAR, ACAT_REQUEST_ID decimal(38,0), ACAT_CONTROL_ID decimal(38,0), DIRECTION VARCHAR, TRANSFER_TYPE VARCHAR, CURRENT_STATE VARCHAR, PREVIOUS_STATE VARCHAR, CREATED_AT timestamp with time zone, UPDATED_AT timestamp with time zone, REVIEWED_AT timestamp with time zone, EXPECTED_SETTLEMENT_DATE timestamp with time zone, CLEARING_COMPLETED_AT timestamp with time zone, BROKER_COMPLETION_DATE timestamp with time zone, STATUS VARCHAR, INSERTED_CST_AT timestamp with time zone, CONTRA_PARTY VARCHAR );
create table AD_REPORTING ( _DBT_SOURCE_RELATION VARCHAR, PLATFORM VARCHAR(12), DATE_DAY DATE, ACCOUNT_NAME VARCHAR(256), ACCOUNT_ID VARCHAR, CAMPAIGN_NAME VARCHAR(256), CAMPAIGN_ID VARCHAR, AD_GROUP_NAME VARCHAR, AD_GROUP_ID VARCHAR, BASE_URL VARCHAR(256), URL_HOST VARCHAR, URL_PATH VARCHAR, UTM_SOURCE VARCHAR, UTM_MEDIUM VARCHAR, UTM_CAMPAIGN VARCHAR, UTM_CONTENT VARCHAR, UTM_TERM VARCHAR, CLICKS decimal(38,0), IMPRESSIONS decimal(38,0), SPEND FLOAT );
create table ALL_SMH_TRADES_FCT ( TRANSACTION_ID decimal(38,0), TRADE_DATE DATE, FILLED_AT timestamp with time zone, ORDER_CREATED_AT timestamp with time zone, TW_ACCOUNT_ID VARCHAR, TW_USER_ID VARCHAR, ORDER_ID decimal(38,0), ORDER_LEG_ID decimal(38,0), ORDER_FILL_LEG_ID decimal(38,0), EXECUTION_ID VARCHAR, EXTERNAL_GLOBAL_ORDER_NUMBER VARCHAR, EXTERNAL_EXCHANGE_ORDER_NUMBER VARCHAR, EXTERNAL_EXECUTION_ID VARCHAR, EXTERNAL_GROUP_FILL_ID VARCHAR, EXTERNAL_GROUP_ID VARCHAR, EXECUTION_VENUE VARCHAR, EXCHANGE VARCHAR, INSTRUMENT_TYPE VARCHAR, ACTION_TYPE VARCHAR, PRICE FLOAT, QUANTITY FLOAT, SYMBOL VARCHAR, UNDERLYING_SYMBOL VARCHAR, DESCRIPTION VARCHAR, TRANSACTION_VALUE FLOAT, COMMISSION_AMT FLOAT, REBATE_AMT FLOAT, CLEARING_FEES FLOAT, REGULATORY_FEES FLOAT, PROPRIETARY_INDEX_FEES FLOAT, APEX_CLEARING_FEE_AMT FLOAT, REVENUE_AMT FLOAT, EXTERNAL_REVENUE_AMT FLOAT );
create table AUTH_ZERO_USERS ( TL_WEB_ID VARCHAR, HASHED_EMAIL VARCHAR, HAS_EMAIL_VERIFIED BOOLEAN, TOTAL_LOGINS decimal(38,0), LAST_LOGIN_AT timestamp with time zone, TL_AUTH_USER_ID decimal(38,0), TL_CREATED_AT timestamp with time zone, IS_LEARN_CENTER_STUDENT BOOLEAN, LEARN_CENTER_CREATED_AT timestamp with time zone, UPDATED_AT timestamp with time zone );
create table AUTH_ZERO_USERS_SSO ( TL_WEB_ID VARCHAR, HASHED_EMAIL VARCHAR, HAS_EMAIL_VERIFIED BOOLEAN, TOTAL_LOGINS decimal(38,0), LAST_LOGIN_AT timestamp with time zone, TL_USER_ID decimal(38,0), TL_CREATED_AT timestamp with time zone, IS_LEARN_CENTER_STUDENT BOOLEAN, LEARN_CENTER_CREATED_AT timestamp with time zone, UPDATED_AT timestamp with time zone );
create table BRIGHTCOVE_TASTYTRADE_ACCOUNT_ENGAGEMENT ( ENGAGEMENT_DATE DATE, VIDEO_CLOUD_ID decimal(38,0), VIDEO_REFERENCE_ID VARCHAR, VIDEO_NAME VARCHAR, IS_PUBLIC_VIDEO BOOLEAN, VIDEO_DURATION decimal(38,0), VIDEO_IMPRESSIONS decimal(38,0), VIDEO_VIEWS decimal(38,0), PLAY_RATE FLOAT, VIDEO_SECONDS_VIEWED decimal(38,0), VIDEO_ENGAGEMENT_PCT_1 FLOAT, VIDEO_ENGAGEMENT_PCT_25 FLOAT, VIDEO_ENGAGEMENT_PCT_50 FLOAT, VIDEO_ENGAGEMENT_PCT_75 FLOAT, VIDEO_ENGAGEMENT_PCT_100 FLOAT, VIDEO_PERCENT_VIEWED FLOAT, ENGAGEMENT_SCORE FLOAT, UPDATED_AT timestamp with time zone );
create table COMPETITORS_ETRADE_METRICS ( FINANCIAL_QUARTER_YEAR VARCHAR, NEW_OPENED_ACCOUNTS_ADVISOR_SERVICES decimal(38,0), NEW_OPENED_ACCOUNTS_BROKERAGE decimal(38,0), NEW_OPENED_ACCOUNTS_CORPORATE_SERVICES decimal(38,0), TOTAL_CLIENT_ACCOUNTS decimal(38,0), CLIENT_EQUITY decimal(38,0), DARTS decimal(38,0), ASSETS decimal(38,0), LIABILITIES decimal(38,0), EXPENSES decimal(38,0), NET_INCOME decimal(38,0), OPERATING_INCOME decimal(38,0), REVENUE decimal(38,0), UPDATED_AT timestamp with time zone );
create table COMPETITORS_IB_METRICS ( FINANCIAL_QUARTER_YEAR VARCHAR, NEW_OPENED_ACCOUNTS_BROKERAGE decimal(38,0), TOTAL_CLIENT_ACCOUNTS decimal(38,0), CLIENT_EQUITY decimal(38,0), DARTS decimal(38,0), ASSETS decimal(38,0), EXPENSES decimal(38,0), LIABILITIES decimal(38,0), NET_INCOME decimal(38,0), OPERATING_INCOME decimal(38,0), REVENUE decimal(38,0), UPDATED_AT timestamp with time zone );
create table COMPETITORS_SCHWAB_METRICS ( FINANCIAL_QUARTER_YEAR VARCHAR, NEW_OPENED_ACCOUNTS_BROKERAGE decimal(38,0), TOTAL_CLIENT_ACCOUNTS decimal(38,0), CLIENT_EQUITY decimal(38,0), DARTS decimal(38,0), DATS decimal(38,0), ASSETS decimal(38,0), EXPENSES decimal(38,0), LIABILITIES decimal(38,0), NET_INCOME decimal(38,0), OPERATING_INCOME decimal(38,0), REVENUE decimal(38,0), UPDATED_AT timestamp with time zone );
create table COMPETITORS_TRADESTATION_METRICS ( FINANCIAL_QUARTER_YEAR VARCHAR, NEW_OPENED_ACCOUNTS_BROKERAGE decimal(38,0), TOTAL_CLIENT_ACCOUNTS decimal(38,0), DARTS decimal(38,0), UPDATED_AT timestamp with time zone );
create table FACEBOOK_ADS__CAMPAIGN_REPORT ( DATE_DAY DATE, ACCOUNT_ID decimal(38,0), ACCOUNT_NAME VARCHAR(256), CAMPAIGN_ID decimal(38,0), CAMPAIGN_NAME VARCHAR(256), CLICKS decimal(38,0), IMPRESSIONS decimal(38,0), SPEND FLOAT );
create table FIRM_LISTED_AFFILIATION_SYMBOLS ( AFFILIATION_SYMBOL VARCHAR, AFFILIATION_TICKER VARCHAR );
create table GOOGLE_ADS__CLICK_PERFORMANCE ( DATE_DAY DATE, CAMPAIGN_ID decimal(38,0), AD_GROUP_ID decimal(38,0), CRITERIA_ID decimal(38,0), GCLID VARCHAR(256), RN decimal(18,0) );
create table GOOGLE_ADS__CRITERIA_AD_ADAPTER ( DATE_DAY DATE, ACCOUNT_NAME VARCHAR(256), EXTERNAL_CUSTOMER_ID decimal(38,0), CAMPAIGN_NAME VARCHAR(256), CAMPAIGN_ID decimal(38,0), AD_GROUP_NAME VARCHAR(256), AD_GROUP_ID decimal(38,0), CRITERIA VARCHAR(256), CRITERIA_TYPE VARCHAR(256), SPEND FLOAT, CLICKS decimal(38,0), IMPRESSIONS decimal(38,0) );
create table GOOGLE_ADS__URL_AD_ADAPTER ( DATE_DAY DATE, ACCOUNT_NAME VARCHAR(256), EXTERNAL_CUSTOMER_ID decimal(38,0), CAMPAIGN_NAME VARCHAR(256), CAMPAIGN_ID decimal(38,0), AD_GROUP_NAME VARCHAR, AD_GROUP_ID decimal(38,0), BASE_URL VARCHAR(256), URL_HOST VARCHAR, URL_PATH VARCHAR, UTM_SOURCE VARCHAR(256), UTM_MEDIUM VARCHAR(256), UTM_CAMPAIGN VARCHAR(256), UTM_CONTENT VARCHAR(256), UTM_TERM VARCHAR(256), SPEND FLOAT, CLICKS decimal(38,0), IMPRESSIONS decimal(38,0) );
create table GOOGLE_ANALYTICS_ADWORDS_CAMPAIGNS ( REPORT_DATE timestamp with time zone, ADWORDS_CAMPAIGN_ID VARCHAR, AD_CLICKS decimal(38,0), AD_COST FLOAT, COST_PER_CLICK FLOAT, VIEW_ID VARCHAR, BOUNCE_RATE FLOAT, TOTAL_SESSIONS decimal(38,0), TOTAL_USERS decimal(38,0), GOAL_COMPLETIONS decimal(38,0), GOAL_CONVERSION_RATE FLOAT, GOAL_VALUE FLOAT, UPDATED_AT timestamp with time zone );
create table GOOGLE_ANALYTICS_ADWORDS_HOURLY_CAMPAIGNS ( PAGEVIEWS_PER_SESSION FLOAT, REPORT_DATE timestamp with time zone, REPORT_HOUR_TIMESTAMP timestamp with time zone, AD_CLICKS decimal(38,0), AD_COST FLOAT, COST_PER_CLICK FLOAT, VIEW_ID VARCHAR, BOUNCE_RATE FLOAT, TOTAL_USERS decimal(38,0), TOTAL_SESSIONS decimal(38,0), GOAL_COMPLETIONS decimal(38,0), GOAL_CONVERSION_RATE FLOAT, GOAL_VALUE FLOAT, UPDATED_AT timestamp with time zone );
create table GOOGLE_ANALYTICS_ADWORDS_KEYWORDS ( PAGEVIEWS_PER_SESSION FLOAT, REPORT_DATE timestamp with time zone, KEYWORD VARCHAR, VIEW_ID VARCHAR, BOUNCE_RATE FLOAT, TOTAL_USERS decimal(38,0), AD_CLICKS decimal(38,0), AD_COST FLOAT, COST_PER_CLICK FLOAT, GOAL_COMPLETIONS decimal(38,0), GOAL_CONVERSION_RATE FLOAT, GOAL_VALUE FLOAT, TOTAL_SESSIONS decimal(38,0), UPDATED_AT timestamp with time zone );
create table GOOGLE_ANALYTICS_AUDIENCE_OVERVIEW ( REPORT_DATE timestamp with time zone, VIEW_ID VARCHAR, BOUNCE_RATE FLOAT, NEW_USERS decimal(38,0), TOTAL_USERS decimal(38,0), TOTAL_PAGEVIEWS decimal(38,0), AVG_SESSION_DURATION FLOAT, SESSIONS_PER_USER FLOAT, TOTAL_SESSIONS decimal(38,0), UPDATED_AT timestamp with time zone );
create table GOOGLE_ANALYTICS_BROWSER_AND_OPERATING_SYSTEM_OVERVIEW ( REPORT_DATE timestamp with time zone, BROWSER VARCHAR, OPERATING_SYSTEM VARCHAR, VIEW_ID VARCHAR, BOUNCE_RATE FLOAT, GOAL_COMPLETIONS FLOAT, GOAL_CONVERSION_RATE FLOAT, GOAL_VALUE FLOAT, AVG_SESSION_DURATION FLOAT, PAGEVIEWS_PER_SESSION FLOAT, TOTAL_SESSIONS decimal(38,0), NEW_USERS decimal(38,0), TOTAL_USERS decimal(38,0), UPDATED_AT timestamp with time zone );
create table GOOGLE_ANALYTICS_CAMPAIGN_PERFORMANCE ( REPORT_DATE timestamp with time zone, CAMPAIGN_NAME VARCHAR, VIEW_ID VARCHAR, BOUNCE_RATE FLOAT, GOAL_COMPLETIONS decimal(38,0), GOAL_CONVERSION_RATE FLOAT, GOAL_VALUE FLOAT, PAGEVIEWS_PER_SESSION FLOAT, TOTAL_SESSIONS decimal(38,0), NEW_USERS decimal(38,0), TOTAL_USERS decimal(38,0), UPDATED_AT timestamp with time zone );
create table GOOGLE_ANALYTICS_CHANNEL_TRAFFIC ( REPORT_DATE timestamp with time zone, CHANNEL_NAME VARCHAR, VIEW_ID VARCHAR, BOUNCE_RATE FLOAT, NEW_USERS decimal(38,0), TOTAL_USERS decimal(38,0), TOTAL_SESSIONS decimal(38,0), AVG_SESSION_DURATION FLOAT, PAGEVIEWS_PER_SESSIONS FLOAT, PCT_NEW_SESSIONS FLOAT, GOAL_COMPLETIONS decimal(38,0), GOAL_CONVERSION_RATE FLOAT, GOAL_VALUE FLOAT, UPDATED_AT timestamp with time zone );
create table GOOGLE_ANALYTICS_COUNTRY_TRAFFIC ( REPORT_DATE timestamp with time zone, COUNTRY VARCHAR, VIEW_ID VARCHAR, BOUNCE_RATE FLOAT, NEW_USERS decimal(38,0), TOTAL_USERS decimal(38,0), TOTAL_PAGEVIEWS decimal(38,0), AVG_SESSION_DURATION FLOAT, SESSIONS_PER_USER FLOAT, TOTAL_SESSIONS decimal(38,0), UPDATED_AT timestamp with time zone );
create table GOOGLE_ANALYTICS_EVENTS_OVERVIEW ( REPORT_DATE timestamp with time zone, EVENT_NAME VARCHAR, EVENT_CATEGORY VARCHAR, VIEW_ID VARCHAR, AVG_EVENT_VALUE FLOAT, EVENTS_PER_SESSION_WITH_EVENT FLOAT, SESSIONS_WITH_EVENT decimal(38,0), TOTAL_EVENTS decimal(38,0), UNIQUE_EVENTS decimal(38,0), UPDATED_AT timestamp with time zone );
create table GOOGLE_ANALYTICS_SOCIAL_MEDIA_ACQUISITIONS ( REPORT_DATE timestamp with time zone, SOCIAL_NETWORK VARCHAR, VIEW_ID VARCHAR, BOUNCE_RATE FLOAT, NEW_USERS decimal(38,0), TOTAL_PAGEVIEWS decimal(38,0), AVG_SESSION_DURATION FLOAT, PAGEVIEWS_PER_SESSION FLOAT, PCT_NEW_SESSIONS FLOAT, TOTAL_SESSIONS decimal(38,0), TOTAL_TRANSACTIONS decimal(38,0), TRANSACTIONS_PER_SESSION FLOAT, TRANSACTION_REVENUE FLOAT, UPDATED_AT timestamp with time zone );
create table GOOGLE_ANALYTICS_TRAFFIC ( REPORT_DATE timestamp with time zone, PAGE_TITLE VARCHAR, VIEW_ID VARCHAR, AVG_TIME_ON_PAGE FLOAT, BOUNCE_RATE FLOAT, PAGE_ENTRANCES FLOAT, PAGE_EXIT_RATE FLOAT, PAGE_VALUE FLOAT, TOTAL_PAGEVIEWS decimal(38,0), UNIQUE_PAGEVIEWS decimal(38,0), TOTAL_USERS decimal(38,0), UPDATED_AT timestamp with time zone );
create table GOOGLE_ANALYTICS_VIDEO_TASTYTRADE ( REPORT_DATE timestamp with time zone, COUNTRY VARCHAR(256), PAGEPATH VARCHAR, VIEW_ID VARCHAR, BOUNCE_RATE FLOAT, NEW_USERS decimal(38,0), TOTAL_USERS decimal(38,0), TOTAL_PAGEVIEWS decimal(38,0), AVG_SESSION_DURATION FLOAT, SESSIONS_PER_USER FLOAT, TOTAL_SESSIONS decimal(38,0), UPDATED_AT timestamp with time zone );
create table GOOGLE_DISPLAY_VIDEO_360_OVERVIEW ( REPORT_DATE timestamp with time zone, ADVERTISER VARCHAR, ADVERTISER_ID decimal(38,0), ADVERTISER_CURRENCY VARCHAR, EXCHANGE VARCHAR, EXCHANGE_ID decimal(38,0), CAMPAIGN VARCHAR, CAMPAIGN_ID decimal(38,0), DEVICE_TYPE VARCHAR, ENVIRONMENT VARCHAR, INSERTION_ORDER VARCHAR, INSERTION_ORDER_ID decimal(38,0), INSERTION_ORDER_STATUS VARCHAR, CREATIVE VARCHAR, CREATIVE_ID VARCHAR, CREATIVE_TYPE VARCHAR, LINE_ITEM VARCHAR, LINE_ITEM_ID decimal(38,0), LINE_ITEM_TYPE VARCHAR, LINE_ITEM_STATUS VARCHAR, IMPRESSIONS decimal(38,0), BILLABLE_IMPRESSIONS FLOAT, ACTIVE_VIEW_PCT_MEASURABLE_IMPRESSIONS VARCHAR, CLICKS decimal(38,0), CLICK_RATE_CTR VARCHAR, POST_VIEW_CONVERSIONS FLOAT, POST_CLICK_CONVERSIONS FLOAT, TOTAL_CONVERSIONS FLOAT, PCT_CLICKS_LEADING_TO_CONVERSIONS VARCHAR, REVENUE_ADVERTISER_CURRENCY FLOAT, REVENUE_ECPM_ADVERTISER_CURRENCY FLOAT, REVENUE_USD FLOAT, REVENUE_ECPM_USD FLOAT, CPM_FEE_1_ADVERTISER_CURRENCY FLOAT, CPM_FEE_2_ADVERTISER_CURRENCY FLOAT, CPM_FEE_1_USD FLOAT, CPM_FEE_2_USD FLOAT, MEDIA_COST_ADVERTISER_CURRENCY FLOAT, MEDIA_COST_USD FLOAT, MEDIA_COST_ECPM_USD FLOAT, TOTAL_MEDIA_COST_ECPM_ADVERTISER_CURRENCY FLOAT, TOTAL_MEDIA_COST_ECPM_USD FLOAT, UPDATED_AT timestamp with time zone );
create table GOOGLE_SA_CAMPAIGN ( AGENCY_ID VARCHAR, ADVERTISER_ID VARCHAR, ACCOUNT VARCHAR, ACCOUNT_ID VARCHAR, CAMPAIGN VARCHAR, CAMPAIGN_ID VARCHAR, CAMPAIGN_STATUS VARCHAR, CAMPAIGN_START_DATE DATE, CAMPAIGN_END_DATE DATE, CLICKS FLOAT, COST FLOAT, AVG_CPC FLOAT, IMPR FLOAT, LAST_UPDATED DATE );
create table GOOGLE_SA_KEYWORD ( AGENCY_ID VARCHAR, ADVERTISER_ID VARCHAR, DATE_VALUE DATE, ACCOUNT VARCHAR, ACCOUNT_ID VARCHAR, CAMPAIGN VARCHAR, CAMPAIGN_ID VARCHAR, CAMPAIGN_STATUS VARCHAR, ADGROUP VARCHAR, ADGROUP_ID VARCHAR, ADGROUP_STATUS VARCHAR, KEYWORD_ID VARCHAR, KEYWORD_MATCH_TYPE VARCHAR, KEYWORD_TEXT VARCHAR, KEYWORD_STATUS VARCHAR, CLICKS decimal(38,0), COST FLOAT, CTR FLOAT, AVG_CPC FLOAT, IMPR decimal(38,0) );
create table GOOGLE_SA_VISIT ( ACCOUNT_ID VARCHAR, CAMPAIGN VARCHAR, CAMPAIGN_ID VARCHAR, ADGROUP_ID VARCHAR, ADGROUP VARCHAR, KEYWORD_ID VARCHAR, KEYWORD_MATCH_TYPE VARCHAR, KEYWORD_TEXT VARCHAR, GCLID_ID VARCHAR, VISIT_TIMESTAMP timestamp with time zone, VISIT_DATE DATE );
create table GOOGLE_SEARCH_CONSOLE__KEYWORD_PAGE_REPORT ( REPORT_DATE timestamp with time zone, KEYWORD VARCHAR, COUNTRY_ABREV VARCHAR, DEVICE VARCHAR, PAGE_NAME VARCHAR, SEARCH_POSITION FLOAT, SEARCH_TYPE VARCHAR, SITE_DOMAIN VARCHAR, CLICK_TOTAL decimal(38,0), IMPRESSION_TOTAL decimal(38,0), CLICK_THROUGH_RATE FLOAT, UPDATED_AT timestamp with time zone );
create table HUBSPOT__CONTACTS ( CONTACT_ID decimal(38,0), EMAIL VARCHAR(256), CONTACT_COMPANY VARCHAR(256), FIRST_NAME VARCHAR(256), LAST_NAME VARCHAR(256), CREATED_AT TIMESTAMP_TZ(9), JOB_TITLE VARCHAR(256), COMPANY_ANNUAL_REVENUE VARCHAR(256), _FIVETRAN_DELETED BOOLEAN, _FIVETRAN_SYNCED TIMESTAMP_TZ(9), TOTAL_BOUNCES decimal(30,0), TOTAL_UNIQUE_BOUNCES decimal(18,0), TOTAL_CLICKS decimal(30,0), TOTAL_UNIQUE_CLICKS decimal(18,0), TOTAL_DEFERRALS decimal(30,0), TOTAL_UNIQUE_DEFERRALS decimal(18,0), TOTAL_DELIVERIES decimal(30,0), TOTAL_UNIQUE_DELIVERIES decimal(18,0), TOTAL_DROPS decimal(30,0), TOTAL_UNIQUE_DROPS decimal(18,0), TOTAL_FORWARDS decimal(30,0), TOTAL_UNIQUE_FORWARDS decimal(18,0), TOTAL_OPENS decimal(30,0), TOTAL_UNIQUE_OPENS decimal(18,0), TOTAL_PRINTS decimal(30,0), TOTAL_UNIQUE_PRINTS decimal(18,0), TOTAL_SPAM_REPORTS decimal(30,0), TOTAL_UNIQUE_SPAM_REPORTS decimal(18,0), TOTAL_UNSUBSCRIBES decimal(30,0), TOTAL_UNIQUE_UNSUBSCRIBES decimal(18,0) );
create table HUBSPOT__CONTACT_HISTORY ( CONTACT_ID decimal(38,0), FIELD_NAME VARCHAR(256), CHANGE_SOURCE VARCHAR(256), CHANGE_SOURCE_ID VARCHAR(256), VALID_FROM TIMESTAMP_TZ(9), NEW_VALUE VARCHAR(4096), VALID_TO TIMESTAMP_TZ(9), ID VARCHAR(32) );
create table HUBSPOT__CONTACT_LISTS ( CONTACT_LIST_ID decimal(38,0), _FIVETRAN_DELETED BOOLEAN, _FIVETRAN_SYNCED TIMESTAMP_TZ(9), CREATED_TIMESTAMP TIMESTAMP_TZ(9), IS_DELETABLE BOOLEAN, IS_DYNAMIC BOOLEAN, METADATA_ERROR VARCHAR(256), METADATA_LAST_PROCESSING_STATE_CHANGE_AT TIMESTAMP_TZ(9), METADATA_LAST_SIZE_CHANGE_AT TIMESTAMP_TZ(9), METADATA_PROCESSING VARCHAR(256), METADATA_SIZE decimal(38,0), CONTACT_LIST_NAME VARCHAR(256), PORTAL_ID decimal(38,0), UPDATED_TIMESTAMP TIMESTAMP_TZ(9), TOTAL_BOUNCES decimal(30,0), TOTAL_UNIQUE_BOUNCES decimal(18,0), TOTAL_CLICKS decimal(30,0), TOTAL_UNIQUE_CLICKS decimal(18,0), TOTAL_DEFERRALS decimal(30,0), TOTAL_UNIQUE_DEFERRALS decimal(18,0), TOTAL_DELIVERIES decimal(30,0), TOTAL_UNIQUE_DELIVERIES decimal(18,0), TOTAL_DROPS decimal(30,0), TOTAL_UNIQUE_DROPS decimal(18,0), TOTAL_FORWARDS decimal(30,0), TOTAL_UNIQUE_FORWARDS decimal(18,0), TOTAL_OPENS decimal(30,0), TOTAL_UNIQUE_OPENS decimal(18,0), TOTAL_PRINTS decimal(30,0), TOTAL_UNIQUE_PRINTS decimal(18,0), TOTAL_SPAM_REPORTS decimal(30,0), TOTAL_UNIQUE_SPAM_REPORTS decimal(18,0), TOTAL_UNSUBSCRIBES decimal(30,0), TOTAL_UNIQUE_UNSUBSCRIBES decimal(18,0) );
create table HUBSPOT__EMAIL_CAMPAIGNS ( _FIVETRAN_SYNCED TIMESTAMP_TZ(9), APP_ID decimal(38,0), APP_NAME VARCHAR(256), CONTENT_ID decimal(38,0), EMAIL_CAMPAIGN_ID decimal(38,0), EMAIL_CAMPAIGN_NAME VARCHAR(256), NUM_INCLUDED decimal(38,0), NUM_QUEUED decimal(38,0), EMAIL_CAMPAIGN_SUB_TYPE VARCHAR(256), EMAIL_CAMPAIGN_SUBJECT VARCHAR(256), EMAIL_CAMPAIGN_TYPE VARCHAR(256), TOTAL_BOUNCES decimal(30,0), TOTAL_UNIQUE_BOUNCES decimal(18,0), TOTAL_CLICKS decimal(30,0), TOTAL_UNIQUE_CLICKS decimal(18,0), TOTAL_DEFERRALS decimal(30,0), TOTAL_UNIQUE_DEFERRALS decimal(18,0), TOTAL_DELIVERIES decimal(30,0), TOTAL_UNIQUE_DELIVERIES decimal(18,0), TOTAL_DROPS decimal(30,0), TOTAL_UNIQUE_DROPS decimal(18,0), TOTAL_FORWARDS decimal(30,0), TOTAL_UNIQUE_FORWARDS decimal(18,0), TOTAL_OPENS decimal(30,0), TOTAL_UNIQUE_OPENS decimal(18,0), TOTAL_PRINTS decimal(30,0), TOTAL_UNIQUE_PRINTS decimal(18,0), TOTAL_SPAM_REPORTS decimal(30,0), TOTAL_UNIQUE_SPAM_REPORTS decimal(18,0), TOTAL_UNSUBSCRIBES decimal(30,0), TOTAL_UNIQUE_UNSUBSCRIBES decimal(18,0) );
create table HUBSPOT__EMAIL_EVENT_BOUNCE ( EVENT_ID VARCHAR(256), _FIVETRAN_SYNCED TIMESTAMP_TZ(9), BOUNCE_CATEGORY VARCHAR(256), RETURNED_RESPONSE VARCHAR(4096), RETURNED_STATUS VARCHAR(256), CREATED_TIMESTAMP TIMESTAMP_TZ(9), EMAIL_CAMPAIGN_ID decimal(38,0), RECIPIENT_EMAIL_ADDRESS VARCHAR(256), EMAIL_SEND_TIMESTAMP TIMESTAMP_TZ(9), EMAIL_SEND_ID VARCHAR(256), CONTACT_ID decimal(38,0) );
create table HUBSPOT__EMAIL_EVENT_CLICKS ( EVENT_ID VARCHAR(256), _FIVETRAN_SYNCED TIMESTAMP_TZ(9), BROWSER VARIANT, IP_ADDRESS VARCHAR(256), GEO_LOCATION VARIANT, REFERER_URL VARCHAR(1024), CLICK_URL VARCHAR(1024), USER_AGENT VARCHAR(512), CREATED_TIMESTAMP TIMESTAMP_TZ(9), EMAIL_CAMPAIGN_ID decimal(38,0), RECIPIENT_EMAIL_ADDRESS VARCHAR(256), EMAIL_SEND_TIMESTAMP TIMESTAMP_TZ(9), EMAIL_SEND_ID VARCHAR(256), CONTACT_ID decimal(38,0) );
create table HUBSPOT__EMAIL_EVENT_DEFERRED ( EVENT_ID VARCHAR(256), _FIVETRAN_SYNCED TIMESTAMP_TZ(9), ATTEMPT_NUMBER decimal(38,0), RETURNED_RESPONSE VARCHAR(8192), CREATED_TIMESTAMP TIMESTAMP_TZ(9), EMAIL_CAMPAIGN_ID decimal(38,0), RECIPIENT_EMAIL_ADDRESS VARCHAR(256), EMAIL_SEND_TIMESTAMP TIMESTAMP_TZ(9), EMAIL_SEND_ID VARCHAR(256), CONTACT_ID decimal(38,0) );
create table HUBSPOT__EMAIL_EVENT_DELIVERED ( EVENT_ID VARCHAR(256), _FIVETRAN_SYNCED TIMESTAMP_TZ(9), RETURNED_RESPONSE VARCHAR(256), SMTP_ID VARCHAR(256), CREATED_TIMESTAMP TIMESTAMP_TZ(9), EMAIL_CAMPAIGN_ID decimal(38,0), RECIPIENT_EMAIL_ADDRESS VARCHAR(256), EMAIL_SEND_TIMESTAMP TIMESTAMP_TZ(9), EMAIL_SEND_ID VARCHAR(256), CONTACT_ID decimal(38,0) );
create table HUBSPOT__EMAIL_EVENT_DROPPED ( EVENT_ID VARCHAR(256), _FIVETRAN_SYNCED TIMESTAMP_TZ(9), BCC_EMAILS VARIANT, CC_EMAILS VARIANT, DROP_MESSAGE VARCHAR(256), DROP_REASON VARCHAR(256), FROM_EMAIL VARCHAR(256), REPLY_TO_EMAIL VARIANT, EMAIL_SUBJECT VARCHAR(256), CREATED_TIMESTAMP TIMESTAMP_TZ(9), EMAIL_CAMPAIGN_ID decimal(38,0), RECIPIENT_EMAIL_ADDRESS VARCHAR(256), EMAIL_SEND_TIMESTAMP TIMESTAMP_TZ(9), EMAIL_SEND_ID VARCHAR(256), CONTACT_ID decimal(38,0) );
create table HUBSPOT__EMAIL_EVENT_OPENS ( EVENT_ID VARCHAR(256), _FIVETRAN_SYNCED TIMESTAMP_TZ(9), BROWSER VARIANT, DURATION_OPEN VARCHAR(256), IP_ADDRESS VARCHAR(256), GEO_LOCATION VARIANT, USER_AGENT VARCHAR(2048), CREATED_TIMESTAMP TIMESTAMP_TZ(9), EMAIL_CAMPAIGN_ID decimal(38,0), RECIPIENT_EMAIL_ADDRESS VARCHAR(256), EMAIL_SEND_TIMESTAMP TIMESTAMP_TZ(9), EMAIL_SEND_ID VARCHAR(256), CONTACT_ID decimal(38,0) );
create table HUBSPOT__EMAIL_EVENT_SENT ( EVENT_ID VARCHAR(256), _FIVETRAN_SYNCED TIMESTAMP_TZ(9), BCC_EMAILS VARIANT, CC_EMAILS VARIANT, FROM_EMAIL VARCHAR(256), REPLY_TO_EMAIL VARIANT, EMAIL_SUBJECT VARCHAR(256), CREATED_TIMESTAMP TIMESTAMP_TZ(9), EMAIL_CAMPAIGN_ID decimal(38,0), RECIPIENT_EMAIL_ADDRESS VARCHAR(256), EMAIL_SEND_TIMESTAMP TIMESTAMP_TZ(9), EMAIL_SEND_ID VARCHAR(256), CONTACT_ID decimal(38,0) );
create table HUBSPOT__EMAIL_EVENT_SPAM_REPORT ( EVENT_ID VARCHAR(256), _FIVETRAN_SYNCED TIMESTAMP_TZ(9), IP_ADDRESS VARCHAR(256), USER_AGENT VARCHAR(256), CREATED_TIMESTAMP TIMESTAMP_TZ(9), EMAIL_CAMPAIGN_ID decimal(38,0), RECIPIENT_EMAIL_ADDRESS VARCHAR(256), EMAIL_SEND_TIMESTAMP TIMESTAMP_TZ(9), EMAIL_SEND_ID VARCHAR(256), CONTACT_ID decimal(38,0) );
create table HUBSPOT__EMAIL_EVENT_STATUS_CHANGE ( EVENT_ID VARCHAR(256), _FIVETRAN_SYNCED TIMESTAMP_TZ(9), IS_BOUNCED BOOLEAN, SUBSCRIPTION_STATUS VARCHAR(256), REQUESTED_BY_EMAIL VARCHAR(256), CHANGE_SOURCE VARCHAR(256), SUBSCRIPTIONS VARIANT, CREATED_TIMESTAMP TIMESTAMP_TZ(9), EMAIL_CAMPAIGN_ID decimal(38,0), RECIPIENT_EMAIL_ADDRESS VARCHAR(256), EMAIL_SEND_TIMESTAMP TIMESTAMP_TZ(9), EMAIL_SEND_ID VARCHAR(256), CONTACT_ID decimal(38,0) );
create table HUBSPOT__EMAIL_SENDS ( EMAIL_SEND_ID VARCHAR(256), EVENT_ID VARCHAR(256), _FIVETRAN_SYNCED TIMESTAMP_TZ(9), BCC_EMAILS VARIANT, CC_EMAILS VARIANT, FROM_EMAIL VARCHAR(256), REPLY_TO_EMAIL VARIANT, EMAIL_SUBJECT VARCHAR(256), CREATED_TIMESTAMP TIMESTAMP_TZ(9), EMAIL_CAMPAIGN_ID decimal(38,0), RECIPIENT_EMAIL_ADDRESS VARCHAR(256), EMAIL_SEND_TIMESTAMP TIMESTAMP_TZ(9), CONTACT_ID decimal(38,0), BOUNCES decimal(18,0), CLICKS decimal(18,0), DEFERRALS decimal(18,0), DELIVERIES decimal(18,0), DROPS decimal(18,0), FORWARDS decimal(18,0), OPENS decimal(18,0), PRINTS decimal(18,0), SPAM_REPORTS decimal(18,0), WAS_BOUNCED BOOLEAN, WAS_CLICKED BOOLEAN, WAS_DEFERRED BOOLEAN, WAS_DELIVERED BOOLEAN, WAS_FORWARDED BOOLEAN, WAS_OPENED BOOLEAN, WAS_PRINTED BOOLEAN, WAS_SPAM_REPORTED BOOLEAN, UNSUBSCRIBES decimal(18,0), WAS_UNSUBCRIBED BOOLEAN );
create table INT_HUBSPOT__EMAIL_METRICS__BY_CONTACT_LIST ( CONTACT_LIST_ID decimal(38,0), TOTAL_BOUNCES decimal(30,0), TOTAL_UNIQUE_BOUNCES decimal(18,0), TOTAL_CLICKS decimal(30,0), TOTAL_UNIQUE_CLICKS decimal(18,0), TOTAL_DEFERRALS decimal(30,0), TOTAL_UNIQUE_DEFERRALS decimal(18,0), TOTAL_DELIVERIES decimal(30,0), TOTAL_UNIQUE_DELIVERIES decimal(18,0), TOTAL_DROPS decimal(30,0), TOTAL_UNIQUE_DROPS decimal(18,0), TOTAL_FORWARDS decimal(30,0), TOTAL_UNIQUE_FORWARDS decimal(18,0), TOTAL_OPENS decimal(30,0), TOTAL_UNIQUE_OPENS decimal(18,0), TOTAL_PRINTS decimal(30,0), TOTAL_UNIQUE_PRINTS decimal(18,0), TOTAL_SPAM_REPORTS decimal(30,0), TOTAL_UNIQUE_SPAM_REPORTS decimal(18,0), TOTAL_UNSUBSCRIBES decimal(30,0), TOTAL_UNIQUE_UNSUBSCRIBES decimal(18,0) );
create table MACRO_TRENDS_AAII_SPREAD ( DATE_VALUE DATE, BULLISH FLOAT, NEUTRAL FLOAT, BEARISH FLOAT );
create table MACRO_TRENDS_CRYPTO_BITCOIN ( MARKET_DAY DATE, MARKET_OPEN FLOAT, MARKET_HIGH FLOAT, MARKET_LOW FLOAT, MARKET_CLOSE FLOAT );
create table MACRO_TRENDS_CRYPTO_ETHEREUM ( MARKET_DAY DATE, MARKET_OPEN FLOAT, MARKET_HIGH FLOAT, MARKET_LOW FLOAT, MARKET_CLOSE FLOAT );
create table MACRO_TRENDS_DOW_JONES ( DATE_VALUE DATE, MARKET_OPEN FLOAT, MARKET_HIGH FLOAT, MARKET_LOW FLOAT, MARKET_CLOSE FLOAT, MARKET_VOLUME decimal(38,0), DIVIDENTS FLOAT, STOCK_SPLITS decimal(38,0) );
create table MACRO_TRENDS_FEDERAL_FUND_RATE ( DATE_VALUE DATE, RATE FLOAT );
create table MACRO_TRENDS_GBP_USD_EXCHANGE_RATE ( DATE_VALUE DATE, SYMBOL VARCHAR, RATE FLOAT, BASE VARCHAR );
create table MACRO_TRENDS_NASDAQ_COMPOSITE ( DATE_VALUE DATE, MARKET_OPEN FLOAT, MARKET_HIGH FLOAT, MARKET_LOW FLOAT, MARKET_CLOSE FLOAT, MARKET_VOLUME decimal(38,0), DIVIDENTS FLOAT, STOCK_SPLITS decimal(38,0) );
create table MACRO_TRENDS_OCC_CUSTOMER_VOLUME ( DATE_VALUE DATE, EXCHANGE VARCHAR, CALL_OR_PUT VARCHAR, QUANTITY FLOAT, SYMBOL VARCHAR, UNDERLYING VARCHAR );
create table MACRO_TRENDS_OCC_VOLUME ( DATE_VALUE DATE, EQUITY decimal(38,0), INDEX_OTHERS decimal(38,0), DEBT decimal(38,0), FUTURES decimal(38,0), TOTAL decimal(38,0) );
create table MACRO_TRENDS_SP_500 ( DATE_VALUE DATE, MARKET_OPEN FLOAT, MARKET_HIGH FLOAT, MARKET_LOW FLOAT, MARKET_CLOSE FLOAT, MARKET_VOLUME decimal(38,0), DIVIDENTS FLOAT, STOCK_SPLITS decimal(38,0) );
create table MACRO_TRENDS_TREASURY_YIELD_10_YEAR ( DATE_VALUE DATE, MARKET_OPEN FLOAT, MARKET_HIGH FLOAT, MARKET_LOW FLOAT, MARKET_CLOSE FLOAT );
create table MACRO_TRENDS_TREASURY_YIELD_5_YEAR ( DATE_VALUE DATE, MARKET_OPEN FLOAT, MARKET_HIGH FLOAT, MARKET_LOW FLOAT, MARKET_CLOSE FLOAT );
create table MACRO_TRENDS_VIX ( DATE_VALUE DATE, MARKET_OPEN FLOAT, MARKET_HIGH FLOAT, MARKET_LOW FLOAT, MARKET_CLOSE FLOAT );
create table MADCRO_TRENDS_CRYPTO_BITCOIN ( MARKET_DAY DATE, MARKET_OPEN FLOAT, MARKET_HIGH FLOAT, MARKET_LOW FLOAT, MARKET_CLOSE FLOAT );
create table MAILCHIMP__AUTOMATIONS ( AUTOMATION_ID VARCHAR(256), LIST_ID VARCHAR(256), SEGMENT_ID VARCHAR(256), SEGMENT_TEXT VARCHAR(256), STARTED_TIMESTAMP TIMESTAMP_TZ(9), CREATED_TIMESTAMP TIMESTAMP_TZ(9), STATUS VARCHAR(256), TITLE VARCHAR(256), TRIGGER_SETTINGS VARIANT, SENDS decimal(18,0), OPENS decimal(13,0), CLICKS decimal(13,0), UNIQUE_OPENS decimal(18,0), UNIQUE_CLICKS decimal(18,0), UNSUBSCRIBES decimal(18,0) );
create table MAILCHIMP__AUTOMATION_ACTIVITIES ( ACTION_TYPE VARCHAR(256), AUTOMATION_EMAIL_ID VARCHAR(256), MEMBER_ID VARCHAR(256), LIST_ID VARCHAR(256), ACTIVITY_TIMESTAMP TIMESTAMP_TZ(9), IP_ADDRESS VARCHAR(256), URL VARCHAR(256), BOUNCE_TYPE VARCHAR(256), ACTIVITY_ID VARCHAR(32), AUTOMATION_ID VARCHAR(256), SEGMENT_ID VARCHAR(256) );
create table MAILCHIMP__AUTOMATION_EMAILS ( AUTOMATION_EMAIL_ID VARCHAR(256), AUTOMATION_ID VARCHAR(256), CREATED_TIMESTAMP TIMESTAMP_TZ(9), STARTED_TIMESTAMP TIMESTAMP_TZ(9), SEND_TIMESTAMP TIMESTAMP_TZ(9), FROM_NAME VARCHAR(256), REPLY_TO VARCHAR(256), STATUS VARCHAR(256), SUBJECT_LINE VARCHAR(256), TITLE VARCHAR(256), TO_NAME VARCHAR(256), ARCHIVE_URL VARCHAR(256), AUTHENTICATE BOOLEAN, AUTO_FOOTER BOOLEAN, AUTO_TWEET BOOLEAN, CLICKTALE VARCHAR(256), CONTENT_TYPE VARCHAR(256), DELAY_ACTION VARCHAR(256), DELAY_ACTION_DESCRIPTION VARCHAR(256), DELAY_AMOUNT decimal(38,0), DELAY_DIRECTION VARCHAR(256), DELAY_FULL_DESCRIPTION VARCHAR(256), DELAY_TYPE VARCHAR(256), DRAG_AND_DROP BOOLEAN, FB_COMMENTS BOOLEAN, FOLDER_ID VARCHAR(256), GOOGLE_ANALYTICS VARCHAR(256), INLINE_CSS BOOLEAN, POSITION decimal(38,0), TEMPLATE_ID decimal(38,0), TIMEWARP BOOLEAN, TRACK_ECOMM_360 BOOLEAN, TRACK_GOALS BOOLEAN, TRACK_HTML_CLICKS BOOLEAN, TRACK_OPENS BOOLEAN, TRACK_TEXT_CLICKS BOOLEAN, USE_CONVERSATION BOOLEAN, LIST_ID VARCHAR(256), SEGMENT_ID VARCHAR(256), SENDS decimal(18,0), OPENS decimal(13,0), CLICKS decimal(13,0), UNIQUE_OPENS decimal(18,0), UNIQUE_CLICKS decimal(18,0), UNSUBSCRIBES decimal(18,0) );
create table MAILCHIMP__CAMPAIGNS ( CAMPAIGN_ID VARCHAR(256), SEGMENT_ID VARCHAR(256), CREATE_TIMESTAMP TIMESTAMP_TZ(9), SEND_TIMESTAMP TIMESTAMP_TZ(9), LIST_ID VARCHAR(256), REPLY_TO_EMAIL VARCHAR(256), CAMPAIGN_TYPE VARCHAR(256), TITLE VARCHAR(256), ARCHIVE_URL VARCHAR(256), AUTHENTICATE BOOLEAN, AUTO_FOOTER BOOLEAN, AUTO_TWEET BOOLEAN, CLICKTALE VARCHAR(256), CONTENT_TYPE VARCHAR(256), DRAG_AND_DROP BOOLEAN, FB_COMMENTS BOOLEAN, FOLDER_ID VARCHAR(256), FROM_NAME VARCHAR(256), GOOGLE_ANALYTICS VARCHAR(256), INLINE_CSS BOOLEAN, LONG_ARCHIVE_URL VARCHAR(256), STATUS VARCHAR(256), SUBJECT_LINE VARCHAR(256), TEMPLATE_ID decimal(38,0), TEST_SIZE decimal(38,0), TIMEWARP BOOLEAN, TO_NAME VARCHAR(256), TRACK_ECOMM_360 BOOLEAN, TRACK_GOALS BOOLEAN, TRACK_HTML_CLICKS BOOLEAN, TRACK_OPENS BOOLEAN, TRACK_TEXT_CLICKS BOOLEAN, USE_CONVERSATION BOOLEAN, WAIT_TIME decimal(38,0), WINNER_CRITERIA VARCHAR(256), WINNING_CAMPAIGN_ID VARCHAR(256), WINNING_COMBINATION_ID VARCHAR(256), SENDS decimal(18,0), OPENS decimal(25,0), CLICKS decimal(25,0), UNIQUE_OPENS decimal(18,0), UNIQUE_CLICKS decimal(18,0), UNSUBSCRIBES decimal(18,0) );
create table MAILCHIMP__CAMPAIGN_ACTIVITIES ( ACTION_TYPE VARCHAR(256), CAMPAIGN_ID VARCHAR(256), MEMBER_ID VARCHAR(256), LIST_ID VARCHAR(256), ACTIVITY_TIMESTAMP TIMESTAMP_TZ(9), IP_ADDRESS VARCHAR(256), URL VARCHAR(512), BOUNCE_TYPE VARCHAR(256), COMBINATION_ID VARCHAR(256), ACTIVITY_ID VARCHAR(32), EMAIL_ID VARCHAR(32), SEND_TIMESTAMP TIMESTAMP_TZ(9), TIME_SINCE_SEND_MINUTES decimal(18,0), TIME_SINCE_SEND_HOURS decimal(9,0), TIME_SINCE_SEND_DAYS decimal(9,0) );
create table MAILCHIMP__CAMPAIGN_RECIPIENTS ( CAMPAIGN_ID VARCHAR(256), MEMBER_ID VARCHAR(256), COMBINATION_ID VARCHAR(256), LIST_ID VARCHAR(256), EMAIL_ID VARCHAR(32), SEGMENT_ID VARCHAR(256), SEND_TIMESTAMP TIMESTAMP_TZ(9), OPENS decimal(13,0), UNIQUE_OPENS decimal(18,0), CLICKS decimal(13,0), UNIQUE_CLICKS decimal(18,0), WAS_OPENED BOOLEAN, WAS_CLICKED BOOLEAN, FIRST_OPEN_TIMESTAMP TIMESTAMP_TZ(9), TIME_TO_OPEN_MINUTES decimal(18,0), TIME_TO_OPEN_HOURS decimal(9,0), TIME_TO_OPEN_DAYS decimal(9,0), WAS_UNSUBSCRIBED BOOLEAN );
create table MAILCHIMP__LISTS ( LIST_ID VARCHAR(256), DATE_CREATED TIMESTAMP_TZ(9), NAME VARCHAR(256), LIST_RATING FLOAT, BEAMER_ADDRESS VARCHAR(256), CONTACT_ADDRESS_1 VARCHAR(256), CONTACT_ADDRESS_2 VARCHAR(256), CONTACT_CITY VARCHAR(256), CONTACT_COMPANY VARCHAR(256), CONTACT_COUNTRY VARCHAR(256), CONTACT_STATE VARCHAR(256), CONTACT_ZIP VARCHAR(256), DEFAULT_FROM_EMAIL VARCHAR(256), DEFAULT_FROM_NAME VARCHAR(256), DEFAULT_LANGUAGE VARCHAR(256), DEFAULT_SUBJECT VARCHAR(256), EMAIL_TYPE_OPTION BOOLEAN, NOTIFY_ON_SUBSCRIBE VARCHAR(256), NOTIFY_ON_UNSUBSCRIBE VARCHAR(256), PERMISSION_REMINDER VARCHAR(256), SUBSCRIBE_URL_LONG VARCHAR(256), SUBSCRIBE_URL_SHORT VARCHAR(256), USE_ARCHIVE_BAR BOOLEAN, VISIBILITY VARCHAR(256), COUNT_MEMBERS decimal(18,0), MOST_RECENT_SIGNUP_TIMESTAMP TIMESTAMP_TZ(9), CAMPAIGN_SENDS decimal(18,0), CAMPAIGN_OPENS decimal(25,0), CAMPAIGN_CLICKS decimal(25,0), CAMPAIGN_UNIQUE_OPENS decimal(18,0), CAMPAIGN_UNIQUE_CLICKS decimal(18,0), CAMPAIGN_UNSUBSCRIBES decimal(18,0), AUTOMATION_SENDS decimal(18,0), AUTOMATION_OPENS decimal(13,0), AUTOMATION_CLICKS decimal(13,0), AUTOMATION_UNIQUE_OPENS decimal(18,0), AUTOMATION_UNIQUE_CLICKS decimal(18,0), AUTOMATION_UNSUBSCRIBES decimal(18,0) );
create table MAILCHIMP__MEMBERS ( MEMBER_ID VARCHAR(256), EMAIL_ADDRESS VARCHAR(256), EMAIL_CLIENT VARCHAR(256), EMAIL_TYPE VARCHAR(256), STATUS VARCHAR(256), LIST_ID VARCHAR(256), SIGNUP_TIMESTAMP TIMESTAMP_TZ(9), OPT_IN_TIMESTAMP TIMESTAMP_TZ(9), LAST_CHANGED_TIMESTAMP TIMESTAMP_TZ(9), COUNTRY_CODE VARCHAR(256), DSTOFF FLOAT, GMTOFF FLOAT, OPT_IN_IP_ADDRESS VARCHAR(256), SIGNUP_IP_ADDRESS VARCHAR(256), LANGUAGE VARCHAR(256), LATITUDE FLOAT, LONGITUDE FLOAT, MEMBER_RATING decimal(38,0), TIMEZONE VARCHAR(256), UNIQUE_EMAIL_ID VARCHAR(256), VIP BOOLEAN, CAMPAIGN_SENDS decimal(18,0), CAMPAIGN_OPENS decimal(25,0), CAMPAIGN_CLICKS decimal(25,0), CAMPAIGN_UNIQUE_OPENS decimal(18,0), CAMPAIGN_UNIQUE_CLICKS decimal(18,0), CAMPAIGN_UNSUBSCRIBES decimal(18,0), AUTOMATION_SENDS decimal(18,0), AUTOMATION_OPENS decimal(13,0), AUTOMATION_CLICKS decimal(13,0), AUTOMATION_UNIQUE_OPENS decimal(18,0), AUTOMATION_UNIQUE_CLICKS decimal(18,0), AUTOMATION_UNSUBSCRIBES decimal(18,0) );
create table MAILCHIMP__SEGMENTS ( SEGMENT_ID VARCHAR(256), LIST_ID VARCHAR(256), MEMBER_COUNT decimal(38,0), SEGMENT_NAME VARCHAR(256), SEGMENT_TYPE VARCHAR(256), UPDATED_TIMESTAMP TIMESTAMP_TZ(9), CREATED_TIMESTAMP TIMESTAMP_TZ(9), CAMPAIGN_SENDS decimal(18,0), CAMPAIGN_OPENS decimal(25,0), CAMPAIGN_CLICKS decimal(25,0), CAMPAIGN_UNIQUE_OPENS decimal(18,0), CAMPAIGN_UNIQUE_CLICKS decimal(18,0), CAMPAIGN_UNSUBSCRIBES decimal(18,0), LIST_NAME VARCHAR(256), AUTOMATION_SENDS decimal(18,0), AUTOMATION_OPENS decimal(13,0), AUTOMATION_CLICKS decimal(13,0), AUTOMATION_UNIQUE_OPENS decimal(18,0), AUTOMATION_UNIQUE_CLICKS decimal(18,0), AUTOMATION_UNSUBSCRIBES decimal(18,0) );
create table MAPPING_SNOWPLOW__USER ( DOMAIN_USERID VARCHAR(128), USER_ID VARCHAR(255), MAX_TSTAMP timestamp with time zone, IDX decimal(18,0) );
create table MARKETING_ATTRIBUTION_CAMPAIGNS ( UTM_CAMPAIGN VARCHAR, ATTRIBUTION_CAMPAIGN VARCHAR );
create table MARKETING_ATTRIBUTION_MEDIUMS ( UTM_MEDIUM VARCHAR, ATTRIBUTION_MEDIUM VARCHAR, MARKETING_BUCKET VARCHAR );
create table MARKETING_ATTRIBUTION_SOURCES ( UTM_SOURCE decimal(38,0), ATTRIBUTION_SOURCE_STRING VARCHAR, ATTRIBUTION_SOURCE VARCHAR, PAID_CAMPAIGN_NAME VARCHAR, PAID_AD_GROUP_NAME VARCHAR );
create table MARKETING_PARTNER_DETAILS ( PARTNER_NAME VARCHAR, REFERRAL_CODE VARCHAR, UTM_SOURCE decimal(38,0), RATE_PER_AQUISITION decimal(38,0), RATE_PER_MONTH FLOAT, PARTNER_START_AT timestamp with time zone, PARTNER_END_AT timestamp with time zone, TERM_NOTICE_DAYS decimal(38,0), CONTACT_EMAIL VARCHAR, PARTNER_LEGAL_ENTITY_NAME VARCHAR, PARTNER_NOTES VARCHAR, CREATED_AT VARCHAR, UPDATED_AT timestamp with time zone );
create table MARKETING_REFERRAL_CODE_OVERRIDE ( REFERRAL_CODE VARCHAR, TW_CUSTOMER_ID VARCHAR, CREDIT_GRANTED_AT timestamp with time zone, DUPLICATE_FLAG decimal(1,0), REQUESTED_BY VARCHAR, REQUEST_NOTES VARCHAR, REQUEST_SOURCE VARCHAR, UPDATED_AT timestamp with time zone );
create table MARKETING_TASTYTRADE_FOLLOW_TRADERS ( TW_ACCOUNT_ID VARCHAR, ACCOUNT_DESCRIPTION VARCHAR, OVERRIDE_FUNDING_AMT FLOAT );
create table MARKETING_TESLA_CAMPAIGN_USERS ( TW_USER_ID VARCHAR, TW_ACCOUNT_ID VARCHAR );
create table NASDAQ_COMPOSITE ( DATE_VALUE timestamp with time zone, MARKET_OPEN FLOAT, MARKET_HIGH FLOAT, MARKET_LOW FLOAT, MARKET_CLOSE FLOAT, MARKET_VOLUME decimal(38,0), DIVIDENTS FLOAT, STOCK_SPLITS decimal(38,0) );
create table OPERATIONS_CHERRY_CLUB_USERS ( TW_USER_ID VARCHAR, VALID_FROM DATE );
create table OPERATIONS_CUSTOMER_RECEIVABLES ( TW_ACCOUNT_ID VARCHAR, TW_CUSTOMER_ID VARCHAR, ACCOUNT_DEBIT_NET_LIQ FLOAT, BALANCE_DUE_AMT FLOAT, COMPLETE_FLAG BOOLEAN, CUSTOMER_COMBINED_NET_LIQ FLOAT, DEBIT_AMT FLOAT, PAYMENT_AMT FLOAT, WRITEOFF_AMT FLOAT, WRITEOFF_MONTH timestamp with time zone );
create table OPERATIONS_INTEREST_CALCULATION_RATES ( RATE_TYPE VARCHAR, MIN_AMOUNT FLOAT, MAX_AMOUNT FLOAT, BASE_RATE FLOAT, RATE_ADJUSTMENT FLOAT, RATE FLOAT, VALID_FROM timestamp with time zone, VALID_TO timestamp with time zone );
create table OPERATIONS_REBATES_AND_FEES ( EXECUTION_VENUE VARCHAR, CHARGE_TYPE VARCHAR, EQUITY_OPTION FLOAT, INDEX_OPTION FLOAT, EQUITY FLOAT, FUTURES FLOAT, VALID_FROM timestamp with time zone, VALID_TO timestamp with time zone, SPY_THRESHOLD_VALID_FROM timestamp with time zone, SPY_THRESHOLD_VALID_TO timestamp with time zone, MIN_CONTRACTS FLOAT, MAX_CONTRACTS FLOAT, SYMBOL_THRESHOLD_LIST VARCHAR, THRESHOLD_PERCENT FLOAT, OVER_THRESHOLD_RATE FLOAT );
create table OPERATIONS_TASTYWORKS_BUDGET ( REPORTING_MONTH DATE, ACCOUNT_APPLICATIONS FLOAT, APPLICATION_TO_OPENED_RATE FLOAT, NEW_FUNDED_ACCOUNTS FLOAT, NET_FUNDED_ACCOUNT_DELTA FLOAT, NEW_OPENED_ACCOUNTS FLOAT, FIRST_TRADE_ACCOUNTS decimal(38,0), FUNDED_TO_TRADE_RATE FLOAT, NET_ATTRITED_ACCOUNTS FLOAT, TOTAL_FUNDED_ACCOUNTS decimal(38,0), ASSETS_UNDER_MANAGEMENT FLOAT, ACTIVE_ACCOUNTS FLOAT, ACTIVE_ACCOUNT_PCT FLOAT, TRADES_PER_ACTIVE_ACCOUNT FLOAT, TOTAL_DARTS FLOAT, TOTAL_TRADING_REVENUE FLOAT, CREDIT_INTEREST FLOAT, DEBIT_INTEREST FLOAT, TOTAL_REVENUE FLOAT, CRYPTO_DARTS FLOAT, CRYPTO_FIRST_TRADES FLOAT, CRYPTO_NON_FIRST_TRADES FLOAT, CRYPTO_TRADING_REVENUE FLOAT, EQUITY_SHARES FLOAT, EQUITY_DARTS FLOAT, EQUITY_FIRST_TRADES FLOAT, EQUITY_NON_FIRST_TRADES FLOAT, EQUITY_OPTIONS_CONTRACTS FLOAT, EQUITY_OPTIONS_DARTS FLOAT, EQUITY_OPTIONS_FIRST_TRADES FLOAT, EQUITY_OPTIONS_NON_FIRST_TRADES FLOAT, EQUITY_OPTIONS_TRADING_REVENUE FLOAT, FUTURES_CONTRACTS FLOAT, FUTURES_DARTS FLOAT, FUTURES_FIRST_TRADES FLOAT, FUTURES_NON_FIRST_TRADES FLOAT, FUTURES_TRADING_REVENUE FLOAT, FUTURES_OPTIONS_CONTRACTS FLOAT, FUTURES_OPTIONS_DARTS FLOAT, FUTURES_OPTIONS_FIRST_TRADES FLOAT, FUTURES_OPTIONS_NON_FIRST_TRADES FLOAT, FUTURES_OPTIONS_TRADING_REVENUE FLOAT, INDEX_OPTIONS_CONTRACTS FLOAT, INDEX_OPTIONS_DARTS FLOAT, INDEX_OPTIONS_FIRST_TRADES FLOAT, INDEX_OPTIONS_NON_FIRST_TRADES FLOAT, INDEX_OPTIONS_TRADING_REVENUE FLOAT, UPDATED_AT timestamp with time zone );
create table OVERNIGHT_BUYING_POWER ( OVERNIGHT_BP_ID decimal(38,0), TW_ACCOUNT_ID VARCHAR, SNAPSHOT_DT DATE, TOTAL_EQUITY FLOAT, MARGIN_EQUITY FLOAT, MARGIN_REQUIREMENT FLOAT, MARGIN_EXCESS_EQUITY FLOAT, CASH_EQUITY FLOAT, CASH_REQUIREMENT FLOAT, CASH_EXCESS_EQUITY FLOAT, MARGIN_EQUITY_REQ_WITHOUT_CONCENTRATION FLOAT, MARGIN_EXCESS_EQUITY_WITHOUT_CONCENTRATION FLOAT, OVERNIGHT_BP_CALCULATED FLOAT, OVERNIGHT_BP_ISSUED FLOAT, DAY_TRADE_BP_ISSUED FLOAT, REG_T_BP_CALCULATED FLOAT, REG_T_BP_ISSUED FLOAT, OVERNIGHT_FACTOR_CALCULATED FLOAT, OVERNIGHT_FACTOR_ISSUED FLOAT, DAY_TRADE_FACTOR_CALCULATED FLOAT, DAY_TRADE_FACTOR_ISSUED FLOAT, MARGIN_EQUITY_PERCENT FLOAT, POSITION_MARKET_VALUE FLOAT, LONG_EQUITY_MARKET_VALUE FLOAT, SHORT_EQUITY_MARKET_VALUE FLOAT, LONG_OPTION_MARKET_VALUE FLOAT, SHORT_OPTION_MARKET_VALUE FLOAT, TOTAL_TRADE_BALANCE FLOAT, TOTAL_SETTLE_BALANCE FLOAT, CASH_TRADE_BALANCE FLOAT, MARGIN_TRADE_BALANCE FLOAT, SHORT_TRADE_BALANCE FLOAT, MONEY_MARKET_TRADE_BALANCE FLOAT, CASH_SETTLE_BALANCE FLOAT, MARGIN_SETTLE_BALANCE FLOAT, SHORT_SETTLE_BALANCE FLOAT, MONEY_MARKET_SETTLE_BALANCE FLOAT, FREE_CASH FLOAT, SMA FLOAT, AVAILABLE_TO_WITHDRAW FLOAT, FUTURE_BALANCE FLOAT, FUTURE_EQUITY FLOAT, FUTURE_REQUIREMENT FLOAT, OPTIONS_REQUIREMENT FLOAT, NON_OPTIONS_REQUIREMENT FLOAT, LAST_UPDATE timestamp with time zone, NON_OPTIONS_REQ_NOT_CONCENTRATED FLOAT, TYPE_1_UNAVIL_CASH_PROCEEDS FLOAT, TYPE_2_UNAVAIL_CASH_PROCEEDS FLOAT, NET_BALANCE FLOAT, SMA_COMMITED FLOAT, HIGH_WATER_MARK FLOAT, FOLDER_ID decimal(38,0), JOB_RUN_AT timestamp with time zone );
create table SNOWPLOW_EVENTS ( EVENT_ID VARCHAR, EVENT_NAME VARCHAR, EVENT_TYPE VARCHAR, PLATFORM VARCHAR, SNOWPLOW_APP_ID VARCHAR, NETWORK_USER_ID VARCHAR, SNOWPLOW_SESSION_ID VARCHAR, SNOWPLOW_SESSION_IDX VARCHAR, SNOWPLOW_USER_ID VARCHAR, TASTYTRADE_USER_ARRAY ARRAY, USER_ID VARCHAR, EVENT_TS timestamp with time zone, EVENT_FINGERPRINT VARCHAR, EVENT_FORMAT VARCHAR, EVENT_FORM_VALUE_CHANGE_ARRAY OBJECT, EVENT_FORM_FIELD_FOCUS_ARRAY OBJECT, EVENT_FORM_SUBMIT_ARRAY OBJECT, EVENT_AD_CLICK_ARRAY OBJECT, EVENT_AD_IMPRESSION_ARRAY OBJECT, EVENT_LINK_CLICK_ARRAY OBJECT, EVENT_TASTYTRADE_USER_ARRAY OBJECT, PAGE_ENCODING VARCHAR, PAGE_NETWORK VARCHAR, PAGE_PIXEL_HEIGHT decimal(38,0), PAGE_PIXEL_WIDTH decimal(38,0), PAGE_REFERRER VARCHAR, PAGE_TITLE VARCHAR, PAGE_URL VARCHAR, PAGE_URL_FRAGMENT VARCHAR, PAGE_URL_HOST VARCHAR, PAGE_URL_PATH VARCHAR, PAGE_URL_PORT decimal(38,0), PAGE_URL_QUERY VARCHAR, PAGE_URL_PROTOCOL VARCHAR, PAGE_UTM_AD_CLICK_ID VARCHAR, PAGE_UTM_CAMPAIGN VARCHAR, PAGE_UTM_MEDIUM VARCHAR, PAGE_UTM_SOURCE VARCHAR, PAGE_UTM_TERM VARCHAR, PAGE_UTM_CONTENT VARCHAR, REFERRER_INBOUND_AT timestamp with time zone, REFERRER_SNOWPLOW_USER_ID VARCHAR, REFERRER_URL_FRAGMENT VARCHAR, REFERRER_URL_HOST VARCHAR, REFERRER_URL_PATH VARCHAR, REFERRER_URL_PORT decimal(38,0), REFERRER_URL_PROTOCOL VARCHAR, REFERRER_URL_QUERY VARCHAR, REFERRER_UTM_MEDIUM VARCHAR, REFERRER_UTM_SOURCE VARCHAR, REFERRER_UTM_TERM VARCHAR, BROWSER_COLOR_DEPTH VARCHAR, BROWSER_FAMILY VARCHAR, BROWSER_FINGERPRINT VARCHAR, BROWSER_LANGUAGE VARCHAR, BROWSER_NAME VARCHAR, BROWSER_RENDERENGINE VARCHAR, BROWSER_TYPE VARCHAR, BROWSER_USERAGENT VARCHAR, BROWSER_VERSION VARCHAR, BROWSER_VIEWHEIGHT decimal(38,0), BROWSER_VIEWWIDTH decimal(38,0), HAS_BROWSER_COOKIES BOOLEAN, HAS_BROWSER_FEATURES_DIRECTOR BOOLEAN, HAS_BROWSER_FEATURES_FLASH BOOLEAN, HAS_BROWSER_FEATURES_GEARS BOOLEAN, HAS_BROWSER_FEATURES_JAVA BOOLEAN, HAS_BROWSER_FEATURES_PDF BOOLEAN, HAS_BROWSER_FEATURES_QUICKTIME BOOLEAN, HAS_BROWSER_FEATURES_REALPLAYER BOOLEAN, HAS_BROWSER_FEATURES_SILVERLIGHT BOOLEAN, HAS_BROWSER_FEATURES_WINDOWSMEDIA BOOLEAN, DEVICE_PIXEL_HEIGHT decimal(38,0), DEVICE_PIXEL_WIDTH decimal(38,0), DEVICE_EVENT_SENT_AT timestamp with time zone, DEVICE_TYPE VARCHAR, IS_MOBILE_DEVICE BOOLEAN, GEO_CITY VARCHAR, GEO_COUNTRY VARCHAR, GEO_LATITUDE FLOAT, GEO_LONGITUDE FLOAT, GEO_REGION VARCHAR, GEO_REGION_NAME VARCHAR, GEO_TIMEZONE VARCHAR, GEO_ZIPCODE VARCHAR, IP_CONNECTION_TYPE VARCHAR, IP_DOMAIN_NAME VARCHAR, IP_ISP VARCHAR, IP_ORGANIZATION VARCHAR, USER_IPADDRESS VARCHAR, OS_FAMILY VARCHAR, OS_MANUFACTURER VARCHAR, OS_NAME VARCHAR, OS_TIMEZONE VARCHAR, BASE_CURRENCY VARCHAR, TRANS_ITEM_CATEGORY VARCHAR, TRANS_ITEM_CURRENCY VARCHAR, TRANS_ITEM_NAME VARCHAR, TRANS_ITEM_ORDER_ID VARCHAR, TRANS_ITEM_PRICE decimal(38,0), TRANS_ITEM_PRICE_USD decimal(38,0), TRANS_ITEM_QUANTITY decimal(38,0), TRANS_ITEM_SKU VARCHAR, TRANS_LOCATION VARCHAR, TRANS_CITY VARCHAR, TRANS_COUNTRY VARCHAR, TRANS_CURRENCY VARCHAR, TRANS_ORDER_ID VARCHAR, TRANS_SHIPPING_COST decimal(38,0), TRANS_SHIPPING_COST_USD decimal(38,0), TRANS_STATE VARCHAR, TRANS_TAX decimal(38,0), TRANS_TAX_USD decimal(38,0), TRANS_TOTAL decimal(38,0), TRANS_TOTAL_USD decimal(38,0), TRANS_ID decimal(38,0), STRUCTURED_EVENT_ACTION VARCHAR, STRUCTURED_EVENT_CATEGORY VARCHAR, STRUCTURED_EVENT_LABEL VARCHAR, STRUCTURED_EVENT_PROPERTY VARCHAR, STRUCTURED_EVENT_VALUE FLOAT, COLLECTED_AT timestamp with time zone, DEVICE_EVENT_CREATED_AT timestamp with time zone, ETL_TAGS_JSON VARCHAR, ETL_START_AT timestamp with time zone, EVENT_SCHEMA_VENDOR VARCHAR, EVENT_SCHEMA_VERSION VARCHAR, GOOGLE_ANALYTICS_COOKIES_ARRAY ARRAY, PING_PERIOD_XOFFSET_MAX decimal(38,0), PING_PERIOD_XOFFEST_MIN decimal(38,0), PING_PERIOD_YOFFSET_MAX decimal(38,0), PING_PERIOD_YOFFSET_MIN decimal(38,0), SNOWPLOW_COLLECTOR_VERSION VARCHAR, SNOWPLOW_ETL_VERSION VARCHAR, SNOWPLOW_GEOLOCATION_ARRAY ARRAY, SNOWPLOW_SPIDERS_AND_BOTS_ARRAY ARRAY, SNOWPLOW_TRACKER_VERSION VARCHAR, SNOWPLOW_UA_PARSER_ARRAY ARRAY, SNOWPLOW_WEB_PAGE_ARRAY ARRAY, TRACKER_NAME VARCHAR, USER_AGENT_ARRAY ARRAY, USER_SET_EVENT_AT timestamp with time zone, WEB_PERFORMANCE_ARRAY ARRAY );
create table SNOWPLOW_GOOGLE_ADS_EVENTS ( EVENT_ID VARCHAR, EVENT_NAME VARCHAR, PLATFORM VARCHAR, SNOWPLOW_APP_ID VARCHAR, NETWORK_USER_ID VARCHAR, SNOWPLOW_SESSION_ID VARCHAR, SNOWPLOW_SESSION_IDX VARCHAR, SNOWPLOW_USER_ID VARCHAR, TASTYTRADE_USER_ARRAY ARRAY, USER_ID VARCHAR, GOOGLE_AD_ID VARCHAR, GOOGLE_AD_CAMPAIGN_ID VARCHAR, GOOGLE_AD_CLICK_ID VARCHAR, GOOGLE_AD_UTM_MEDIUM VARCHAR, GOOGLE_AD_UTM_CAMPAIGN VARCHAR );
create table SNOWPLOW_SCREEN_VIEW_EVENTS ( EVENT_ID VARCHAR, EVENT_NAME VARCHAR, EVENT_TYPE VARCHAR, PLATFORM VARCHAR, SNOWPLOW_APP_ID VARCHAR, NETWORK_USER_ID VARCHAR, SNOWPLOW_SESSION_ID VARCHAR, SNOWPLOW_SESSION_IDX VARCHAR, SNOWPLOW_USER_ID VARCHAR, TASTYTRADE_USER_ARRAY ARRAY, USER_ID VARCHAR, SCREEN_VIEW_ID VARCHAR, SCREEN_VIEW_NAME VARCHAR, SCREEN_VIEW_PREVIOUSID VARCHAR, SCREEN_VIEW_PREVIOUSNAME VARCHAR );
create table SNOWPLOW_WEB_PAGE_VIEWS cluster by (to_date(start_tstamp))( PAGE_VIEW_ID VARCHAR, EVENT_ID VARCHAR(36), APP_ID VARCHAR(255), USER_ID VARCHAR(255), DOMAIN_USERID VARCHAR(128), NETWORK_USERID VARCHAR(128), DOMAIN_SESSIONID VARCHAR(128), DOMAIN_SESSIONIDX decimal(38,0), PAGE_VIEW_IN_SESSION_INDEX decimal(18,0), PAGE_VIEWS_IN_SESSION decimal(18,0), DVCE_CREATED_TSTAMP timestamp with time zone, COLLECTOR_TSTAMP timestamp with time zone, DERIVED_TSTAMP timestamp with time zone, START_TSTAMP timestamp with time zone, END_TSTAMP timestamp with time zone, MODEL_TSTAMP timestamp with time zone, ENGAGED_TIME_IN_S decimal(22,0), ABSOLUTE_TIME_IN_S decimal(18,0), HORIZONTAL_PIXELS_SCROLLED decimal(38,0), VERTICAL_PIXELS_SCROLLED decimal(38,0), HORIZONTAL_PERCENTAGE_SCROLLED FLOAT, VERTICAL_PERCENTAGE_SCROLLED FLOAT, DOC_WIDTH decimal(38,0), DOC_HEIGHT decimal(38,0), PAGE_TITLE VARCHAR(2000), PAGE_URL VARCHAR(4096), PAGE_URLSCHEME VARCHAR(16), PAGE_URLHOST VARCHAR(255), PAGE_URLPATH VARCHAR(3000), PAGE_URLQUERY VARCHAR(6000), PAGE_URLFRAGMENT VARCHAR(3000), MKT_MEDIUM VARCHAR(255), MKT_SOURCE VARCHAR(255), MKT_TERM VARCHAR(255), MKT_CONTENT VARCHAR(500), MKT_CAMPAIGN VARCHAR(255), MKT_CLICKID VARCHAR(128), MKT_NETWORK VARCHAR(64), PAGE_REFERRER VARCHAR(4096), REFR_URLSCHEME VARCHAR(16), REFR_URLHOST VARCHAR(255), REFR_URLPATH VARCHAR(6000), REFR_URLQUERY VARCHAR(6000), REFR_URLFRAGMENT VARCHAR(3000), REFR_MEDIUM VARCHAR(25), REFR_SOURCE VARCHAR(50), REFR_TERM VARCHAR(255), GEO_COUNTRY VARCHAR(2), GEO_REGION VARCHAR(3), GEO_REGION_NAME VARCHAR(100), GEO_CITY VARCHAR(75), GEO_ZIPCODE VARCHAR(15), GEO_LATITUDE FLOAT, GEO_LONGITUDE FLOAT, GEO_TIMEZONE VARCHAR(64), USER_IPADDRESS VARCHAR(128), USERAGENT VARCHAR(1000), BR_LANG VARCHAR(255), BR_VIEWWIDTH decimal(38,0), BR_VIEWHEIGHT decimal(38,0), BR_COLORDEPTH VARCHAR(12), BR_RENDERENGINE VARCHAR(50), OS_TIMEZONE VARCHAR(255), CATEGORY VARCHAR, PRIMARY_IMPACT VARCHAR, REASON VARCHAR, SPIDER_OR_ROBOT BOOLEAN, USERAGENT_FAMILY VARCHAR, USERAGENT_MAJOR VARCHAR, USERAGENT_MINOR VARCHAR, USERAGENT_PATCH VARCHAR, USERAGENT_VERSION VARCHAR, OS_FAMILY VARCHAR, OS_MAJOR VARCHAR, OS_MINOR VARCHAR, OS_PATCH VARCHAR, OS_PATCH_MINOR VARCHAR, OS_VERSION VARCHAR, DEVICE_FAMILY VARCHAR, DEVICE_CLASS VARCHAR, AGENT_CLASS VARCHAR, AGENT_NAME VARCHAR, AGENT_NAME_VERSION VARCHAR, AGENT_NAME_VERSION_MAJOR VARCHAR, AGENT_VERSION VARCHAR, AGENT_VERSION_MAJOR VARCHAR, DEVICE_BRAND VARCHAR, DEVICE_NAME VARCHAR, DEVICE_VERSION VARCHAR, LAYOUT_ENGINE_CLASS VARCHAR, LAYOUT_ENGINE_NAME VARCHAR, LAYOUT_ENGINE_NAME_VERSION VARCHAR, LAYOUT_ENGINE_NAME_VERSION_MAJOR VARCHAR, LAYOUT_ENGINE_VERSION VARCHAR, LAYOUT_ENGINE_VERSION_MAJOR VARCHAR, OPERATING_SYSTEM_CLASS VARCHAR, OPERATING_SYSTEM_NAME VARCHAR, OPERATING_SYSTEM_NAME_VERSION VARCHAR, OPERATING_SYSTEM_VERSION VARCHAR );
create table SNOWPLOW_WEB_SESSIONS cluster by (to_date(start_tstamp))( APP_ID VARCHAR(255), DOMAIN_SESSIONID VARCHAR(128), DOMAIN_SESSIONIDX decimal(38,0), START_TSTAMP timestamp with time zone, END_TSTAMP timestamp with time zone, MODEL_TSTAMP timestamp with time zone, USER_ID VARCHAR(255), DOMAIN_USERID VARCHAR(128), STITCHED_USER_ID VARCHAR(255), NETWORK_USERID VARCHAR(128), PAGE_VIEWS decimal(18,0), ENGAGED_TIME_IN_S decimal(34,0), ABSOLUTE_TIME_IN_S decimal(18,0), FIRST_PAGE_TITLE VARCHAR(2000), FIRST_PAGE_URL VARCHAR(4096), FIRST_PAGE_URLSCHEME VARCHAR(16), FIRST_PAGE_URLHOST VARCHAR(255), FIRST_PAGE_URLPATH VARCHAR(3000), FIRST_PAGE_URLQUERY VARCHAR(6000), FIRST_PAGE_URLFRAGMENT VARCHAR(3000), LAST_PAGE_TITLE VARCHAR(2000), LAST_PAGE_URL VARCHAR(4096), LAST_PAGE_URLSCHEME VARCHAR(16), LAST_PAGE_URLHOST VARCHAR(255), LAST_PAGE_URLPATH VARCHAR(3000), LAST_PAGE_URLQUERY VARCHAR(6000), LAST_PAGE_URLFRAGMENT VARCHAR(3000), REFERRER VARCHAR(4096), REFR_URLSCHEME VARCHAR(16), REFR_URLHOST VARCHAR(255), REFR_URLPATH VARCHAR(6000), REFR_URLQUERY VARCHAR(6000), REFR_URLFRAGMENT VARCHAR(3000), REFR_MEDIUM VARCHAR(25), REFR_SOURCE VARCHAR(50), REFR_TERM VARCHAR(255), MKT_MEDIUM VARCHAR(255), MKT_SOURCE VARCHAR(255), MKT_TERM VARCHAR(255), MKT_CONTENT VARCHAR(500), MKT_CAMPAIGN VARCHAR(255), MKT_CLICKID VARCHAR(128), MKT_NETWORK VARCHAR(64), GEO_COUNTRY VARCHAR(2), GEO_REGION VARCHAR(3), GEO_REGION_NAME VARCHAR(100), GEO_CITY VARCHAR(75), GEO_ZIPCODE VARCHAR(15), GEO_LATITUDE FLOAT, GEO_LONGITUDE FLOAT, GEO_TIMEZONE VARCHAR(64), USER_IPADDRESS VARCHAR(128), USERAGENT VARCHAR(1000), BR_RENDERENGINE VARCHAR(50), BR_LANG VARCHAR(255), OS_TIMEZONE VARCHAR(255), CATEGORY VARCHAR, PRIMARY_IMPACT VARCHAR, REASON VARCHAR, SPIDER_OR_ROBOT BOOLEAN, USERAGENT_FAMILY VARCHAR, USERAGENT_MAJOR VARCHAR, USERAGENT_MINOR VARCHAR, USERAGENT_PATCH VARCHAR, USERAGENT_VERSION VARCHAR, OS_FAMILY VARCHAR, OS_MAJOR VARCHAR, OS_MINOR VARCHAR, OS_PATCH VARCHAR, OS_PATCH_MINOR VARCHAR, OS_VERSION VARCHAR, DEVICE_FAMILY VARCHAR, DEVICE_CLASS VARCHAR, AGENT_CLASS VARCHAR, AGENT_NAME VARCHAR, AGENT_NAME_VERSION VARCHAR, AGENT_NAME_VERSION_MAJOR VARCHAR, AGENT_VERSION VARCHAR, AGENT_VERSION_MAJOR VARCHAR, DEVICE_BRAND VARCHAR, DEVICE_NAME VARCHAR, DEVICE_VERSION VARCHAR, LAYOUT_ENGINE_CLASS VARCHAR, LAYOUT_ENGINE_NAME VARCHAR, LAYOUT_ENGINE_NAME_VERSION VARCHAR, LAYOUT_ENGINE_NAME_VERSION_MAJOR VARCHAR, LAYOUT_ENGINE_VERSION VARCHAR, LAYOUT_ENGINE_VERSION_MAJOR VARCHAR, OPERATING_SYSTEM_CLASS VARCHAR, OPERATING_SYSTEM_NAME VARCHAR, OPERATING_SYSTEM_NAME_VERSION VARCHAR, OPERATING_SYSTEM_VERSION VARCHAR );
create table SNOWPLOW_WEB_USERS cluster by (to_date(start_tstamp))( USER_ID VARCHAR(255), DOMAIN_USERID VARCHAR(128), NETWORK_USERID VARCHAR(128), START_TSTAMP timestamp with time zone, END_TSTAMP timestamp with time zone, MODEL_TSTAMP timestamp with time zone, PAGE_VIEWS decimal(30,0), SESSIONS decimal(18,0), ENGAGED_TIME_IN_S decimal(38,0), FIRST_PAGE_TITLE VARCHAR(2000), FIRST_PAGE_URL VARCHAR(4096), FIRST_PAGE_URLSCHEME VARCHAR(16), FIRST_PAGE_URLHOST VARCHAR(255), FIRST_PAGE_URLPATH VARCHAR(3000), FIRST_PAGE_URLQUERY VARCHAR(6000), FIRST_PAGE_URLFRAGMENT VARCHAR(3000), LAST_PAGE_TITLE VARCHAR(2000), LAST_PAGE_URL VARCHAR(4096), LAST_PAGE_URLSCHEME VARCHAR(16), LAST_PAGE_URLHOST VARCHAR(255), LAST_PAGE_URLPATH VARCHAR(3000), LAST_PAGE_URLQUERY VARCHAR(6000), LAST_PAGE_URLFRAGMENT VARCHAR(3000), REFERRER VARCHAR(4096), REFR_URLSCHEME VARCHAR(16), REFR_URLHOST VARCHAR(255), REFR_URLPATH VARCHAR(6000), REFR_URLQUERY VARCHAR(6000), REFR_URLFRAGMENT VARCHAR(3000), REFR_MEDIUM VARCHAR(25), REFR_SOURCE VARCHAR(50), REFR_TERM VARCHAR(255), MKT_MEDIUM VARCHAR(255), MKT_SOURCE VARCHAR(255), MKT_TERM VARCHAR(255), MKT_CONTENT VARCHAR(500), MKT_CAMPAIGN VARCHAR(255), MKT_CLICKID VARCHAR(128), MKT_NETWORK VARCHAR(64) );
create table SNOWPLOW_WEB_USER_MAPPING ( DOMAIN_USERID VARCHAR(128), USER_ID VARCHAR(255), END_TSTAMP timestamp with time zone );
create table SP500_UNDERLYINGS ( UNDERLYING_SYMBOL VARCHAR, VALID_TO timestamp with time zone, VALID_FROM timestamp with time zone, GICS_SECTOR VARCHAR );
create table SRC_COUNTRY_CODE_DETAILS ( NUMERIC_CODE decimal(38,0), ALPHA_3_CODE VARCHAR(256), COUNTRY_NAME VARCHAR(256), ISO_3166_2 VARCHAR(256), ALPHA_2_CODE VARCHAR(256) );
create table TMP_ALL_SMH_ALPHABOOST_TRADES_FOR_T_TEST ( TW_ACCOUNT_ID VARCHAR, NUM_ORDERS_BEFORE decimal(18,0), NUM_ORDERS_AFTER decimal(18,0) );
create table TMP_ALL_SMH_TRADES_W_FCT_TRADES ( TW_ACCOUNT_ID VARCHAR, ORDER_ID decimal(38,0), ORDER_LEG_ID decimal(38,0), TRADE_DATE DATE, UNDERLYING_SYMBOL VARCHAR, SYMBOL VARCHAR, INSTRUMENT_TYPE VARCHAR, QUANTITY FLOAT, ACTION_TYPE VARCHAR, OPTION_TYPE VARCHAR, STRIKE_PRICE FLOAT, LEG_NUMBER decimal(18,0), NUM_LEGS decimal(18,0), TYPE_LEG_1 VARCHAR, STRIKE_PRICE_LEG_1 FLOAT, ACTION_TYPE_LEG_1 VARCHAR, QUANTITY_LEG_1 FLOAT, TYPE_LEG_2 VARCHAR, STRIKE_PRICE_LEG_2 FLOAT, ACTION_TYPE_LEG_2 VARCHAR, QUANTITY_LEG_2 FLOAT, TYPE_LEG_3 VARCHAR, STRIKE_PRICE_LEG_3 FLOAT, ACTION_TYPE_LEG_3 VARCHAR, QUANTITY_LEG_3 FLOAT, TYPE_LEG_4 VARCHAR, STRIKE_PRICE_LEG_4 FLOAT, ACTION_TYPE_LEG_4 VARCHAR, QUANTITY_LEG_4 FLOAT );
create table TMP_ALPHABOOST_OPENED_052322 ( HASHED_EMAIL_SHA VARCHAR(128), MEMBER_RATING decimal(38,0), OPENS decimal(38,0), TW_USER_ID VARCHAR, TW_ACCOUNT_ID VARCHAR, DEMOGRAPHIC_GENERATION VARCHAR );
create table TMP_APP_VIEWS_TWO ( SP_USER_ID VARCHAR, FIRST_DEVICE VARIANT, LAST_DEVICE VARIANT );
create table TMP_FIRST_TIME_APP_VIEWED_FIRST_PAGE ( TS_APP_STARTED timestamp with time zone, USER_ID VARCHAR, PAGE_TITLE VARCHAR, COUNTRY_NAME VARCHAR, APPLICATION_STEP VARCHAR, DEVICE_FAMILY VARIANT, OS_FAMILY VARCHAR, LINK VARCHAR );
create table TMP_QA_CUSTOMER_LIST ( CONTENT_TYPE VARCHAR(16), TW_CUSTOMER_ID VARCHAR, REVENUE_AMT FLOAT );
create table TMP_TT_BY_DATA_PERIOD ( DATA_PERIOD VARCHAR, CONTENT_TYPE VARCHAR(16), TW_CLIENTS decimal(18,0), TW_QUANTITY FLOAT, TW_TOTAL_TRADES decimal(38,0), TW_REVENUE_AMT FLOAT, USERS_ACTIVE_ON_TT_AND_TW decimal(18,0), QUANTITY FLOAT, TOTAL_TRADES decimal(38,0), REVENUE_AMT FLOAT );
create table TMP_TT_BY_MONTH ( MONTH_DATE DATE, CONTENT_TYPE VARCHAR(16), TW_CLIENTS decimal(18,0), TW_QUANTITY FLOAT, TW_TOTAL_TRADES decimal(38,0), TW_REVENUE_AMT FLOAT, TW_TOTAL_TRADES_PER_TW_CLIENT decimal(38,2), TW_TOTAL_REVENUE_PER_TW_CLIENT FLOAT, TOTAL_USERS decimal(18,0), TRACKABLE_USERS decimal(18,0), USERS_ACTIVE_ON_TT_AND_TW decimal(18,0), TOTAL_LIVE_SECONDS decimal(38,0), MINUTES_PER_USER_ACTIVE_ON_TT_AND_TW decimal(38,2), QUANTITY FLOAT, TOTAL_TRADES decimal(38,0), REVENUE_AMT FLOAT, REVENUE_PER_ACTIVE_USER FLOAT, TRADES_PER_ACTIVE_USER decimal(38,2), TRACKABLE_USERS_PCT_OF_TOTAL_USERS decimal(24,6), USERS_ACTIVE_ON_TT_AND_TW_PCT_OF_TOTAL_USERS decimal(24,6), USERS_ACTIVE_ON_TT_AND_TW_PCT_OF_TRACKABLE_USERS decimal(24,6), MEDIAN_TW_QUANTITY FLOAT, MEDIAN_TW_TOTAL_TRADES decimal(33,3), MEDIAN_TW_REVENUE_AMT FLOAT, SEVENTY_FIFTH_PCT_TW_QUANTITY FLOAT, TWENTY_FIFTH_PCT_TW_QUANTITY FLOAT, NINETY_FIFTH_PCT_TW_QUANTITY FLOAT, NINETY_NINETH_PCT_TW_QUANTITY FLOAT, SEVENTY_FIFTH_TW_TOTAL_TRADES FLOAT, TWENTY_FIFTH_PCT_TW_TOTAL_TRADES FLOAT, NINETY_FIFTH_PCT_TW_TOTAL_TRADES FLOAT, NINETY_NINETH_PCT_TW_TOTAL_TRADES FLOAT, SEVENTY_FIFTH_PCT_TW_REVENUE_AMT FLOAT, TWENTY_FIFTH_PCT_TW_REVENUE_AMT FLOAT, NINETY_FIFTH_PCT_TW_REVENUE_AMT FLOAT, NINETY_NINETH_PCT_TW_REVENUE_AMT FLOAT, MAX_TW_QUANTITY FLOAT, MAX_TW_TOTAL_TRADES decimal(30,0), MAX_TW_REVENUE_AMT FLOAT, MEDIAN_QUANTITY FLOAT, MEDIAN_TOTAL_TRADES decimal(33,3), MEDIAN_REVENUE_AMT FLOAT, SEVENTY_FIFTH_PERCENTILE_QUANTITY FLOAT, TWENTY_FIFTH_PERCENTILE_QUANTITY FLOAT, NINETY_FIFTH_PERCENTILE_QUANTITY FLOAT, NINETY_NINETH_PERCENTILE_QUANTITY FLOAT, SEVENTY_FIFTH_PERCENTILE_TOTAL_TRADES FLOAT, TWENTY_FIFTH_PERCENTILE_TOTAL_TRADES FLOAT, NINETY_FIFTH_PERCENTILE_TOTAL_TRADES FLOAT, NINETY_NINETH_PERCENTILE_TOTAL_TRADES FLOAT, SEVENTY_FIFTH_PERCENTILE_REVENUE_AMT FLOAT, TWENTY_FIFTH_PERCENTILE_REVENUE_AMT FLOAT, NINETY_FIFTH_PERCENTILE_REVENUE_AMT FLOAT, NINETY_NINETH_PERCENTILE_REVENUE_AMT FLOAT, MAX_QUANTITY FLOAT, MAX_TOTAL_TRADES decimal(30,0), MAX_REVENUE_AMT FLOAT );
create table TST_IDS ( NETWORK_USER_ID VARCHAR );
create table WEBEXCC_TASKS ( STARTED_AT timestamp with time zone, ENDED_AT timestamp with time zone, TASK_ID VARCHAR, DIRECTION VARCHAR, ORIGIN_PHONE_NUMBER_HASHED VARCHAR, DESTINATION_PHONE_NUMBER_HASHED VARCHAR, TERMINATION_TYPE VARCHAR, AGENT_ID VARCHAR, AGENT_NAME VARCHAR, QUEUE_ID VARCHAR, QUEUE_NAME VARCHAR, SELF_SERVICE_DURATION FLOAT, QUEUE_DURATION FLOAT, RINGING_DURATION FLOAT, CONNECTED_DURATION FLOAT, HOLD_DURATION FLOAT, CONSULT_DURATION FLOAT, CONSULT_TO_QUEUE_DURATION FLOAT, CONFERENCE_DURATION FLOAT, TRANSFER_COUNT FLOAT, WRAPUP_DURATION FLOAT, TOTAL_DURATION FLOAT, UPDATED_AT timestamp with time zone );
create table YOUTUBE_TASTYTRADE_CHANNEL_BASICS ( REPORT_DATE DATE, ENTITY VARCHAR(20), VIDEO_ID VARCHAR, VIDEO_VIEWS decimal(38,0), WATCH_TIME_MINUTES FLOAT, CHANNEL_ID VARCHAR, COUNTRY_CODE VARCHAR, AVG_VIEW_DURATION_PERCENTAGE FLOAT, AVG_VIEW_DURATION_SECONDS FLOAT, COMMENTS decimal(38,0), DISLIKES decimal(38,0), LIKES decimal(38,0), LIVE_OR_ON_DEMAND VARCHAR, SOCIAL_SHARES decimal(38,0), SUBSCRIBED_STATUS VARCHAR, SUBSCRIBERS_GAINED decimal(38,0), SUBSCRIBERS_LOST decimal(38,0), VIDEOS_ADDED_TO_PLAYLISTS decimal(38,0), VIDEOS_REMOVED_FROM_PLAYLISTS decimal(38,0), ANNOTATION_CLICKABLE_IMPRESSIONS decimal(38,0), ANNOTATION_CLICKS decimal(38,0), ANNOTATION_CLICK_THROUGH_RATE FLOAT, ANNOTATION_CLOSABLE_IMPRESSIONS decimal(38,0), ANNOTATION_CLOSES decimal(38,0), ANNOTATION_CLOSE_RATE FLOAT, ANNOTATION_IMPRESSIONS decimal(38,0), CARD_CLICKS decimal(38,0), CARD_CLICK_RATE FLOAT, CARD_IMPRESSIONS decimal(38,0), CARD_TEASER_CLICKS decimal(38,0), CARD_TEASER_CLICK_RATE FLOAT, CARD_TEASER_IMPRESSIONS decimal(38,0), RED_VIEWS decimal(38,0), RED_WATCH_TIME_MINUTES FLOAT, UPDATED_AT timestamp with time zone );
create table YOUTUBE_TASTYTRADE_CHANNEL_CARDS ( CARD_CLICKS decimal(38,0), CARD_CLICK_RATE FLOAT, CARD_ID VARCHAR, CARD_IMPRESSIONS decimal(38,0), CARD_TEASER_CLICKS decimal(38,0), CARD_TEASER_CLICK_RATE FLOAT, CARD_TEASER_IMPRESSIONS decimal(38,0), CARD_TYPE decimal(38,0), REPORT_DATE DATE, CHANNEL_ID VARCHAR, VIDEO_ID VARCHAR, COUNTRY_CODE VARCHAR, LIVE_OR_ON_DEMAND VARCHAR, SUBSCRIBED_STATUS VARCHAR, UPDATED_AT timestamp with time zone );
create table YOUTUBE_TASTYTRADE_CHANNEL_COMBINED ( VIDEO_ID VARCHAR, REPORT_DATE DATE, VIEWS decimal(38,0), CHANNEL_ID VARCHAR, OPERATING_SYSTEM_ID decimal(38,0), PLAYBACK_LOCATION_TYPE_ID decimal(38,0), TRAFFIC_SOURCE_TYPE_ID decimal(38,0), AVG_VIEW_DURATION_PERCENTAGE FLOAT, AVG_VIEW_DURATION_SECONDS FLOAT, COUNTRY_CODE VARCHAR, DEVICE_TYPE decimal(38,0), LIVE_OR_ON_DEMAND VARCHAR, RED_VIEWS decimal(38,0), RED_WATCH_TIME_MINUTES FLOAT, SUBSCRIBED_STATUS VARCHAR, WATCH_TIME_MINUTES FLOAT, UPDATED_AT timestamp with time zone );
create table YOUTUBE_TASTYTRADE_CHANNEL_DEMOGRAPHICS ( VIDEO_ID VARCHAR, REPORT_DATE DATE, AGE_GROUP VARCHAR, GENDER VARCHAR, CHANNEL_ID VARCHAR, COUNTRY_CODE VARCHAR, LIVE_OR_ON_DEMAND VARCHAR, SUBSCRIBED_STATUS VARCHAR, VIEWS_PERCENTAGE FLOAT, UPDATED_AT timestamp with time zone );
create table YOUTUBE_TASTYTRADE_CHANNEL_END_SCREENS ( END_SCREEN_ELEMENT_CLICKS decimal(38,0), END_SCREEN_ELEMENT_CLICK_RATE FLOAT, END_SCREEN_ELEMENT_IMPRESSIONS decimal(38,0), REPORT_DATE DATE, VIDEO_ID VARCHAR, CHANNEL_ID VARCHAR, END_SCREEN_ELEMENT_ID VARCHAR, END_SCREEN_ELEMENT_TYPE_ID decimal(38,0), COUNTRY_CODE VARCHAR, LIVE_OR_ON_DEMAND VARCHAR, SUBSCRIBED_STATUS VARCHAR, UPDATED_AT timestamp with time zone );
create table YOUTUBE_TASTYTRADE_CHANNEL_PROVINCE ( COUNTRY_CODE VARCHAR, ENTITY VARCHAR, REPORT_DATE DATE, VIDEO_ID VARCHAR, VIDEO_VIEWS decimal(38,0), CHANNEL_ID VARCHAR, ANNOTATION_CLICABLE_IMPRESSIONS decimal(38,0), ANNOTATION_CLICKS decimal(38,0), ANNOTATION_CLICK_THROUGH_RATE FLOAT, ANNOTATION_CLOSABLE_IMPRESSIONS decimal(38,0), ANNOTATION_CLOSES decimal(38,0), ANNOTATION_CLOSE_RATE FLOAT, ANNOTATION_IMPRESSIONS decimal(38,0), AVG_VIEW_DURATION_PERCENTAGE FLOAT, AVG_VIEW_DURATION_SECONDS FLOAT, CARD_CLICKS decimal(38,0), CARD_CLICK_RATE FLOAT, CARD_IMPRESSIONS decimal(38,0), CARD_TEASER_CLICKS decimal(38,0), CARD_TEASER_CLICK_RATE FLOAT, CARD_TEASER_IMPRESSIONS decimal(38,0), LIVE_OR_ON_DEMAND VARCHAR, PROVINCE_CODE VARCHAR, RED_VIEWS decimal(38,0), RED_WATCH_TIME_MINUTES FLOAT, SUBSCRIBED_STATUS VARCHAR, WATCH_TIME_MINUTES FLOAT, UPDATED_AT timestamp with time zone );
create table YOUTUBE_TASTYTRADE_CHANNEL_SHARING_LOCATION ( VIDEO_ID VARCHAR, REPORT_DATE DATE, SHARES decimal(38,0), CHANNEL_ID VARCHAR, SHARING_SERVICE_ID decimal(38,0), COUNTRY_CODE VARCHAR, LIVE_OR_ON_DEMAND VARCHAR, SUBSCRIBED_STATUS VARCHAR, UPDATED_AT timestamp with time zone );
create table YOUTUBE_TASTYTRADE_PLAYLIST_BASICS ( PLAYLIST_ID VARCHAR, PLAYLIST_SAVES_ADDED decimal(38,0), PLAYLIST_SAVES_REMOVED decimal(38,0), PLAYLIST_STARTS decimal(38,0), PLAYLIST_VIEWS decimal(38,0), REPORT_DATE DATE, CHANNEL_ID VARCHAR, VIDEO_ID VARCHAR, AVG_VIEW_DURATION_SECONDS FLOAT, COUNTRY_CODE VARCHAR, LIVE_OR_ON_DEMAND VARCHAR, SUBSCRIBED_STATUS VARCHAR, WATCH_TIME_MINUTES FLOAT, UPDATED_AT timestamp with time zone );
create table YOUTUBE_TASTYTRADE_PLAYLIST_COMBINED ( PLAYLIST_ID VARCHAR, REPORT_DATE DATE, PLAYLIST_SAVES_ADDED decimal(38,0), PLAYLIST_SAVES_REMOVED decimal(38,0), PLAYLIST_STARTS decimal(38,0), CHANNEL_ID VARCHAR, OPERATING_SYSTEM_ID decimal(38,0), PLAYBACK_LOCATION_TYPE_ID decimal(38,0), TRAFFIC_SOURCE_TYPE_ID decimal(38,0), VIDEO_ID VARCHAR, AVERAGE_VIEW_DURATION_SECONDS FLOAT, COUNTRY_CODE VARCHAR, DEVICE_TYPE_ID decimal(38,0), LIVE_OR_ON_DEMAND VARCHAR, SUBSCRIBED_STATUS VARCHAR, VIDEO_VIEWS decimal(38,0), WATCH_TIME_MINUTES FLOAT, UPDATED_AT timestamp with time zone );
create table YOUTUBE_TASTYTRADE_PLAYLIST_PROVINCE ( PLAYLIST_ID VARCHAR, PLAYLIST_SAVES_ADDED decimal(38,0), PLAYLIST_SAVES_REMOVED decimal(38,0), PLAYLIST_STARTS decimal(38,0), PROVINCE_CODE VARCHAR, REPORT_DATE DATE, CHANNEL_ID VARCHAR, VIDEO_ID VARCHAR, AVG_VIEW_DURATION_SECONDS FLOAT, COUNTRY_CODE VARCHAR, LIVE_OR_ON_DEMAND VARCHAR, SUBSCRIBED_STATUS VARCHAR, VIDEO_VIEWS decimal(38,0), WATCH_TIME_MINUTES FLOAT, UPDATED_AT timestamp with time zone );
create view  FACEBOOK_ADS__CREATIVE_HISTORY_PREP( _FIVETRAN_ID, CREATIVE_ID, ACCOUNT_ID, CREATIVE_NAME, URL, BASE_URL, URL_HOST, URL_PATH, UTM_SOURCE, UTM_MEDIUM, UTM_CAMPAIGN, UTM_CONTENT, UTM_TERM ) as (      with base as (     select *     from "RAW_DB_FIVETRAN"._facebook_ads_staging.stg_facebook_ads__creative_history     where is_most_recent_record = true ), url_tags as (     select *     from "RAW_DB_FIVETRAN"._facebook_ads_staging.stg_facebook_ads__url_tag ), url_tags_pivoted as (     select          _fivetran_id,         creative_id,         min(case when key = 'utm_source' then value end) as utm_source,         min(case when key = 'utm_medium' then value end) as utm_medium,         min(case when key = 'utm_campaign' then value end) as utm_campaign,         min(case when key = 'utm_content' then value end) as utm_content,         min(case when key = 'utm_term' then value end) as utm_term     from url_tags     group by 1,2 ), fields as (     select         _fivetran_id,         creative_id,         account_id,         creative_name,         coalesce(page_link,template_page_link) as url,              split_part(         coalesce(page_link,template_page_link),         '?',         1         )  as base_url,              try_cast(     split_part(              split_part(              replace(              replace(              replace(         coalesce(page_link,template_page_link),         'android-app://',         ''     )      ,         'http://',         ''     )      ,         'https://',         ''     )      ,         '/',         1         ) ,         '?',         1         )  as      varchar )  as url_host,         '/' ||      try_cast(     split_part(              case when           length(              replace(              replace(         coalesce(page_link,template_page_link),         'http://',         ''     )      ,         'https://',         ''     )          )-coalesce(             nullif(     position(         '/' in      replace(              replace(         coalesce(page_link,template_page_link),         'http://',         ''     )      ,         'https://',         ''     )          ), 0),                  position(         '?' in      replace(              replace(         coalesce(page_link,template_page_link),         'http://',         ''     )      ,         'https://',         ''     )          ) - 1             ) = 0          then ''     else          right(                  replace(              replace(         coalesce(page_link,template_page_link),         'http://',         ''     )      ,         'https://',         ''     )      ,                       length(              replace(              replace(         coalesce(page_link,template_page_link),         'http://',         ''     )      ,         'https://',         ''     )          )-coalesce(             nullif(     position(         '/' in      replace(              replace(         coalesce(page_link,template_page_link),         'http://',         ''     )      ,         'https://',         ''     )          ), 0),                  position(         '?' in      replace(              replace(         coalesce(page_link,template_page_link),         'http://',         ''     )      ,         'https://',         ''     )          ) - 1             )         )     end,         '?',         1         )  as      varchar )  as url_path,         coalesce(url_tags_pivoted.utm_source, nullif(     split_part(              split_part(         coalesce(page_link,template_page_link),         'utm_source=',         2         ) ,         '&',         1         ) ,'')) as utm_source,         coalesce(url_tags_pivoted.utm_medium, nullif(     split_part(              split_part(         coalesce(page_link,template_page_link),         'utm_medium=',         2         ) ,         '&',         1         ) ,'')) as utm_medium,         coalesce(url_tags_pivoted.utm_campaign, nullif(     split_part(              split_part(         coalesce(page_link,template_page_link),         'utm_campaign=',         2         ) ,         '&',         1         ) ,'')) as utm_campaign,         coalesce(url_tags_pivoted.utm_content, nullif(     split_part(              split_part(         coalesce(page_link,template_page_link),         'utm_content=',         2         ) ,         '&',         1         ) ,'')) as utm_content,         coalesce(url_tags_pivoted.utm_term, nullif(     split_part(              split_part(         coalesce(page_link,template_page_link),         'utm_term=',         2         ) ,         '&',         1         ) ,'')) as utm_term     from base     left join url_tags_pivoted         using (_fivetran_id, creative_id) ) select * from fields   ) /* {"app": "dbt", "dbt_version": "1.0.6", "profile_name": "user", "target_name": "prod", "target_user": "DBT_USER", "file": "models/intermediate/facebook_ads__creative_history_prep.sql", "node_id": "model.facebook_ads.facebook_ads__creative_history_prep", "node_name": "facebook_ads__creative_history_prep", "resource_type": "model", "package_name": "facebook_ads", "relation": {"database": "ANALYTICS_TASTYWORKS", "schema": "external_sources", "identifier": "facebook_ads__creative_history_prep"}} */;
create view  STG_FACEBOOK_ADS( DATE_DAY, ACCOUNT_NAME, ACCOUNT_ID, BASE_URL, URL_HOST, URL_PATH, UTM_SOURCE, UTM_MEDIUM, UTM_CAMPAIGN, UTM_CONTENT, UTM_TERM, CAMPAIGN_ID, CAMPAIGN_NAME, AD_GROUP_ID, AD_GROUP_NAME, PLATFORM, CLICKS, IMPRESSIONS, SPEND ) as (      with base as (     select *     from "ANALYTICS_TASTYWORKS".external_sources.facebook_ads__ad_adapter ), fields as (     select         cast(date_day as date) as date_day,         account_name,         cast(account_id as      varchar ) as account_id,         base_url,         url_host,         url_path,         utm_source,         utm_medium,         utm_campaign,         utm_content,         utm_term,         cast(campaign_id as      varchar ) as campaign_id,         campaign_name,         cast(ad_set_id as      varchar ) as ad_group_id,         ad_set_name as ad_group_name,         'Facebook Ads' as platform,         sum(coalesce(clicks, 0)) as clicks,         sum(coalesce(impressions, 0)) as impressions,         sum(coalesce(spend, 0)) as spend     from base     group by 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16 ) select * from fields   ) /* {"app": "dbt", "dbt_version": "1.0.6", "profile_name": "user", "target_name": "prod", "target_user": "DBT_USER", "file": "models/stg_facebook_ads.sql", "node_id": "model.ad_reporting.stg_facebook_ads", "node_name": "stg_facebook_ads", "resource_type": "model", "package_name": "ad_reporting", "relation": {"database": "ANALYTICS_TASTYWORKS", "schema": "external_sources", "identifier": "stg_facebook_ads"}} */;
create view  STG_GOOGLE_ADS( PLATFORM, DATE_DAY, ACCOUNT_NAME, ACCOUNT_ID, CAMPAIGN_NAME, CAMPAIGN_ID, AD_GROUP_NAME, AD_GROUP_ID, BASE_URL, URL_HOST, URL_PATH, UTM_SOURCE, UTM_MEDIUM, UTM_CAMPAIGN, UTM_CONTENT, UTM_TERM, CLICKS, IMPRESSIONS, SPEND ) as (      with base as (     select *     from "ANALYTICS_TASTYWORKS".external_sources.google_ads__url_ad_adapter ), fields as (     select         'Google Ads' as platform,         cast(date_day as date) as date_day,         account_name,          cast(external_customer_id as      varchar ) as account_id  ,         campaign_name,         cast(campaign_id as      varchar ) as campaign_id,         ad_group_name,         cast(ad_group_id as      varchar ) as ad_group_id,         base_url,         url_host,         url_path,         utm_source,         utm_medium,         utm_campaign,         utm_content,         utm_term,         coalesce(clicks, 0) as clicks,         coalesce(impressions, 0) as impressions,         coalesce(spend, 0) as spend     from base ) select * from fields   ) /* {"app": "dbt", "dbt_version": "1.0.6", "profile_name": "user", "target_name": "prod", "target_user": "DBT_USER", "file": "models/stg_google_ads.sql", "node_id": "model.ad_reporting.stg_google_ads", "node_name": "stg_google_ads", "resource_type": "model", "package_name": "ad_reporting", "relation": {"database": "ANALYTICS_TASTYWORKS", "schema": "external_sources", "identifier": "stg_google_ads"}} */;

